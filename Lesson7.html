<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secondary Storage Guide</title>
    <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,5 A45,45 0 1,1 50,95 A45,45 0 1,1 50,5 M50,15 A35,35 0 1,0 50,85 A35,35 0 1,0 50,15 M50,25 A2,2 0 0,0 48,27 L48,73 A2,2 0 0,0 52,73 L52,27 A2,2 0 0,0 50,25" fill="%233B82F6" /></svg>'>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #383838;
            padding-bottom: 60px; /* Add padding to prevent footer overlap */
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
            cursor: pointer;
        }
        .nav-link.active, .nav-link:hover {
            color: #3B82F6;
            border-bottom-color: #3B82F6;
        }
        .page-content {
            display: none;
            animation: fadeIn 0.8s ease-in-out forwards;
        }
        .page-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .info-popover {
            visibility: hidden; opacity: 0; position: absolute; bottom: 110%; left: 50%; transform: translateX(-50%);
            width: 280px; background-color: #1e293b; color: #f1f5f9; text-align: left; padding: 1rem; border-radius: 0.5rem;
            z-index: 10; transition: opacity 0.3s ease, visibility 0.3s ease; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
        }
        .info-popover::after {
            content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid;
            border-color: #1e293b transparent transparent transparent;
        }
        .hierarchy-level:hover .info-popover { visibility: visible; opacity: 1; }
        
        .hdd-diagram-label {
            position: absolute; background-color: rgba(59, 130, 246, 0.8); color: white; padding: 4px 8px; border-radius: 4px;
            font-size: 0.8rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease-in-out;
        }
        .hdd-diagram-label:hover { background-color: #2563EB; transform: scale(1.1); }
        .hdd-diagram-label .tooltip {
            visibility: hidden; width: 200px; background-color: #334155; color: #fff; text-align: center; border-radius: 6px; padding: 8px;
            position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -100px; opacity: 0; transition: opacity 0.3s;
        }
        .hdd-diagram-label:hover .tooltip { visibility: visible; opacity: 1; }

        .quiz-option-label { transition: all 0.2s ease-in-out; }
        .quiz-option-label.selected { background-color: #93C5FD; border-color: #3B82F6; }
        .quiz-option-label.correct { background-color: #10B981; color: white; border-color: #059669; }
        .quiz-option-label.incorrect { background-color: #EF4444; color: white; border-color: #DC2626; }

        .social-link svg {
            transition: transform 0.3s ease;
        }
        .social-link:hover svg {
            transform: scale(1.2);
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-800">Secondary Storage Guide</h1>
                </div>
                <div class="hidden md:flex items-center">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a data-target="home" class="nav-link active px-3 py-2 rounded-md text-sm font-medium">Home</a>
                        <a data-target="hierarchy" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Hierarchy</a>
                        <a data-target="internal" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Internal Devices</a>
                        <a data-target="external" class="nav-link px-3 py-2 rounded-md text-sm font-medium">External Devices</a>
                        <a data-target="comparison" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Comparison</a>
                        <a data-target="quiz" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Quiz</a>
                        <a data-target="resources" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Resources</a>
                    </div>
                    <div class="ml-4 pl-4 border-l border-gray-300">
                        <a href="index.html" class="inline-flex items-center bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-semibold hover:bg-blue-200 transition-colors">
                            Back to Curriculum
                        </a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a data-target="home" class="nav-link mobile-link active block px-3 py-2 rounded-md text-base font-medium">Home</a>
                    <a data-target="hierarchy" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Hierarchy</a>
                    <a data-target="internal" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Internal Devices</a>
                    <a data-target="external" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">External Devices</a>
                    <a data-target="comparison" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Comparison</a>
                    <a data-target="quiz" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Quiz</a>
                    <a data-target="resources" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Resources</a>
                    <div class="mt-2 pt-2 border-t border-zinc-200">
                        <a href="index.html" class="block text-center py-2 px-3 rounded-lg bg-blue-100 text-blue-800 font-semibold">Back to Curriculum</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="page-content active py-12 sm:py-16 lg:py-24">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-gray-900 tracking-tight">The Foundation of Digital Persistence</h2>
                <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-gray-600">Welcome to your complete guide to secondary memory storage. This interactive resource is designed to help you master every aspect of this fundamental computer science topic.</p>
                
                <div class="mt-10 max-w-4xl mx-auto bg-gray-50 p-6 rounded-lg shadow-inner border border-gray-200 text-left">
                    <h3 class="text-xl font-bold text-gray-800 text-center mb-4">Syllabus Focus: A1.1.7</h3>
                    <p class="font-semibold text-gray-700">This guide comprehensively covers the syllabus requirement to "Describe internal and external types of secondary memory storage." By exploring all the tabs, you will master:</p>
                    <ul class="list-disc list-inside mt-4 space-y-2 text-gray-600">
                        <li>
                            <strong>Internal hard drives:</strong>
                            <ul class="list-['-_'] ml-6">
                                <li>Solid State Drive (SSD), Hard Disk Drive (HDD), Embedded MultiMediaCard (eMMC)</li>
                            </ul>
                        </li>
                        <li>
                            <strong>External hard drives:</strong>
                            <ul class="list-['-_'] ml-6">
                                <li>SSD, HDD, optical drives, flash drives, memory cards, Network Attached Storage (NAS)</li>
                            </ul>
                        </li>
                        <li>
                            <strong>The scenarios in which the various types of drive are used.</strong>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="hierarchy" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">The Memory Hierarchy</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-gray-600">Computer memory is organized in a hierarchy to balance speed, cost, and capacity. No single type of memory can be the fastest, largest, and cheapest all at once. This hierarchy ensures the CPU gets data as fast as possible by using small, fast, expensive memory for immediate tasks and large, slow, cheap memory for long-term storage.</p>
                </div>

                <div class="mt-12 max-w-4xl mx-auto grid md:grid-cols-2 gap-8 items-center">
                    <div class="space-y-4 text-gray-700">
                        <h3 class="text-2xl font-bold text-gray-800">Why a Hierarchy? The Great Trade-Off</h3>
                        <p>Think of it like a workshop. You can't keep all your tools and materials on your main workbench—it would be too cluttered and slow to find anything. Instead:</p>
                        <ul class="list-disc list-inside space-y-2 pl-4">
                            <li><strong>CPU Registers & Cache</strong> are the tools in your hand or on your toolbelt. You have instant access, but can only hold a few. They are the fastest and most expensive per byte.</li>
                            <li><strong>Primary Memory (RAM)</strong> is your workbench. It holds everything you're currently working on. It's fast to access, but has limited space and is <strong>volatile</strong> (it's cleared when the power is turned off).</li>
                            <li><strong>Secondary Storage (SSD/HDD)</strong> is the large warehouse or storage closet. It holds everything you own, but it takes time to walk over and retrieve an item. It's the slowest, but also the largest and cheapest per byte, and it is <strong>non-volatile</strong> (it retains data without power).</li>
                        </ul>
                        <p>The system works by moving data up the hierarchy as it's needed. When you open a program, its data is copied from the slow secondary storage into the faster RAM. The most frequently used bits of that data are then copied into the lightning-fast cache for the CPU to access instantly.</p>
                    </div>
                    <div class="relative flex flex-col items-center space-y-2 p-6 bg-gray-50 rounded-lg">
                         <div class="hierarchy-level">
                            <button class="w-40 text-center p-3 bg-blue-100 text-blue-800 font-semibold rounded-lg shadow-md transition-transform hover:scale-105">CPU Registers</button>
                            <div class="info-popover"><h4 class="font-bold text-lg text-blue-300">CPU Registers</h4><p class="text-sm">The absolute fastest memory, located directly within the Central Processing Unit (CPU). Holds tiny amounts of data that the CPU is actively processing.</p></div>
                        </div>
                        <div class="text-2xl text-gray-400">▼</div>
                        <div class="hierarchy-level">
                             <button class="w-56 text-center p-3 bg-blue-100 text-blue-800 font-semibold rounded-lg shadow-md transition-transform hover:scale-105">Cache</button>
                             <div class="info-popover"><h4 class="font-bold text-lg text-blue-300">CPU Cache</h4><p class="text-sm">Extremely fast memory on or near the CPU. It stores frequently accessed data from RAM to prevent the CPU from having to wait for the slower main memory.</p></div>
                        </div>
                        <div class="text-2xl text-gray-400">▼</div>
                        <div class="hierarchy-level">
                             <button class="w-72 text-center p-3 bg-blue-100 text-blue-800 font-semibold rounded-lg shadow-md transition-transform hover:scale-105">Primary Memory (RAM)</button>
                             <div class="info-popover"><h4 class="font-bold text-lg text-blue-300">Primary Memory (RAM)</h4><p class="text-sm">Random Access Memory is the computer's "workbench." It is volatile (data is lost on power off) and holds the OS and open applications. Much faster than secondary storage.</p></div>
                        </div>
                         <div class="text-2xl text-gray-400">▼</div>
                        <div class="hierarchy-level">
                             <button class="w-full max-w-sm text-center p-4 bg-yellow-200 text-yellow-800 font-semibold rounded-lg shadow-md transition-transform hover:scale-105">Secondary Storage</button>
                             <div class="info-popover"><h4 class="font-bold text-lg text-yellow-300">Secondary Storage</h4><p class="text-sm">This is our focus. It's non-volatile (permanent) storage like your SSD or HDD. It's the slowest but largest and cheapest form of memory.</p></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="internal" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                 <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Internal Storage Devices</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-gray-600">Internal storage devices are the permanent memory banks housed inside a computer, essential for storing the operating system, applications, and your most frequently used files.</p>
                 </div>
                 <div class="mt-12 space-y-12">
                     <div class="bg-gray-50 p-8 rounded-xl shadow-md">
                         <h3 class="text-3xl font-bold text-gray-800 mb-4">Hard Disk Drive (HDD)</h3>
                         <div class="relative w-full max-w-lg mx-auto mb-6">
                             <img src="https://www.researchgate.net/profile/Mostafa-Sabbaghi/publication/317472565/figure/fig2/AS:613957429645317@1523390266281/ntact-HDD-with-the-cover-removed-left-and-exploded-image-of-a-HDD-showing-individual.png" alt="Diagram of Hard Disk Drive Internals" class="w-full h-auto rounded-lg">
                             
                         </div>
                         <div class="grid md:grid-cols-2 gap-8 border-t pt-6">
                             <div>
                                 <h4 class="text-xl font-semibold text-blue-700 mb-3">How It Works: The Mechanical Ballet</h4>
                                 <p class="text-gray-600">Data is stored on rigid platters coated in a magnetic material. A motor spins these platters at a constant, high speed (e.g., 7200 Revolutions Per Minute, or RPM). The surfaces are organized into concentric circles called <strong>tracks</strong>, and each track is divided into <strong>sectors</strong>. A read/write head on an actuator arm moves across the platters to magnetize or read the magnetic state of sectors, representing binary data. The physical movement required (seek time and rotational latency) is the primary cause of an HDD's slower speed.</p>
                             </div>
                             <div>
                                 <h4 class="text-xl font-semibold text-blue-700 mb-3">Key Technical Specifications</h4>
                                 <ul class="list-disc list-inside text-gray-600 space-y-2">
                                     <li><strong>RPM (Revolutions Per Minute):</strong> Higher RPM means faster data access.</li>
                                     <li><strong>Cache/Buffer:</strong> Onboard Dynamic Random Access Memory (DRAM) for storing frequently accessed data.</li>
                                     <li><strong>Form Factor:</strong> Typically 3.5-inch for desktops and 2.5-inch for laptops.</li>
                                 </ul>
                             </div>
                         </div>
                     </div>
                     <div class="bg-gray-50 p-8 rounded-xl shadow-md">
                         <h3 class="text-3xl font-bold text-gray-800 mb-4">Solid State Drive (SSD)</h3>
                         <a href="https://www.atpinc.com/blog/what-is-m.2-M-B-BM-key-socket-3" target="_blank" class="inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition mb-6"> Read More About M.2 NVMe SSD</a>
                         <div class="grid md:grid-cols-2 gap-8 border-t pt-6">
                             <div>
                                 <h4 class="text-xl font-semibold text-blue-700 mb-3">How It Works: The Electronic Grid</h4>
                                 <p class="text-gray-600">SSDs store data on interconnected <strong>NAND (Not AND) flash memory</strong> chips. Data is stored in a grid of memory cells by trapping electrons. A controller chip manages data placement, reading, and writing electronically, without physical movement. Data is written to <strong>pages</strong> and erased in larger <strong>blocks</strong>. <strong>Wear-leveling</strong> algorithms distribute write operations evenly to maximize the drive's lifespan.</p>
                             </div>
                             <div>
                                 <h4 class="text-xl font-semibold text-blue-700 mb-3">Key Technical Specifications</h4>
                                 <ul class="list-disc list-inside text-gray-600 space-y-2">
                                     <li><strong>Form Factor & Interface:</strong> 2.5" SATA (Serial AT Attachment) is slower and compatible with older systems. M.2 is a small stick that plugs into the motherboard and can use the much faster <strong>NVMe (Non-Volatile Memory Express)</strong> protocol over the PCIe (Peripheral Component Interconnect Express) bus.</li>
                                     <li><strong>NAND Type:</strong> Refers to how many bits are stored per cell (e.g., TLC - Triple-Level Cell). Denser types are cheaper but have lower endurance.</li>
                                 </ul>
                             </div>
                         </div>
                     </div>
                     <div class="bg-gray-50 p-8 rounded-xl shadow-md">
                         <h3 class="text-3xl font-bold text-gray-800 mb-4">Embedded MultiMediaCard (eMMC)</h3>
                         <a href="https://www.techtarget.com/searchstorage/definition/eMMC-embedded-MultiMediaCard" target="_blank" class="inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition mb-6">Read More about eMMC Chip</a>
                         <div class="grid md:grid-cols-2 gap-8 border-t pt-6">
                             <div>
                                 <h4 class="text-xl font-semibold text-blue-700 mb-3">How It Works: Simplified & Integrated</h4>
                                 <p class="text-gray-600">eMMC combines the NAND flash memory and a controller into a single chip soldered directly onto the motherboard. Its architecture is simpler than a standard SSD, with a narrower data bus (fewer parallel channels). This design makes it very cheap but fundamentally limits its speed, making it slower than an SSD but faster than an HDD.</p>
                             </div>
                             <div>
                                <h4 class="text-xl font-semibold text-blue-700 mb-3">Key Differentiators</h4>
                                 <ul class="list-disc list-inside text-gray-600 space-y-2">
                                     <li><strong>Integration:</strong> Soldered to the motherboard, making it non-upgradable.</li>
                                     <li><strong>Performance Tier:</strong> Sits between an HDD and a modern SSD.</li>
                                     <li><strong>Primary Use Case:</strong> Cost-sensitive mobile and lightweight computing devices.</li>
                                 </ul>
                             </div>
                         </div>
                     </div>
                 </div>
            </div>
        </section>

        <section id="external" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                 <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">External Storage Devices</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-gray-600">These are portable units that connect to a computer via a cable (like Universal Serial Bus, or USB) or a network, used for backups, file transfers, and expanding storage capacity.</p>
                 </div>
                 <div class="mt-12 grid md:grid-cols-2 gap-8">
                    <div class="bg-gray-50 p-6 rounded-xl shadow-md"><h3 class="text-xl font-bold text-gray-800 mb-2">External SSD & HDD</h3><a href="https://www.backblaze.com/blog/ssd-vs-hdd-future-of-storage/" target="_blank" class="inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition my-4 w-max">View Image</a><p class="text-gray-600">Internal drives in a protective case. An external SSD is ideal for fast data transfer, while an external HDD provides high-capacity, cost-effective backup solutions.</p></div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-md"><h3 class="text-xl font-bold text-gray-800 mb-2">Optical Drives</h3><a href="https://www.dell.com/support/kbdoc/en-gh/000147805/guide-to-optical-disk-drives-and-optical-discs" target="_blank" class="inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition my-4 w-max">View Image</a><p class="text-gray-600">Use lasers to read data from optical discs like Compact Discs (CDs), Digital Versatile Discs (DVDs), and Blu-rays. Now a legacy technology, they remain useful for long-term archiving.</p></div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-md"><h3 class="text-xl font-bold text-gray-800 mb-2">Flash Drives</h3><a href="https://www.usbmemorydirect.com/blog/different-types-of-usb-flash-drives/?srsltid=AfmBOoqYIWkzY_f5C-u2FJIb9QYezIJzmMIPT1Od7dmuIIQ-nBbPX9AV" target="_blank" class="inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition my-4 w-max">View Image</a><p class="text-gray-600">Small, portable solid-state devices that plug into a USB port, ideal for quickly transferring files between computers.</p></div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-md"><h3 class="text-xl font-bold text-gray-800 mb-2">Memory Cards</h3><a href="https://www.kingston.com/en/blog/personal-storage/microsd-sd-memory-card-guide" target="_blank" class="inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition my-4 w-max">View Image</a><p class="text-gray-600">Tiny flash memory cards like Secure Digital (SD) and microSD cards, used in cameras, drones, and smartphones.</p></div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-md md:col-span-2"><h3 class="text-xl font-bold text-gray-800 mb-2">Network Attached Storage (NAS)</h3><a href="https://www.ibm.com/think/topics/network-attached-storage" target="_blank" class="inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition my-4 w-max">View Image</a><p class="text-gray-600">A storage server that connects to your network, allowing multiple users to access files from a central location. Often uses a Redundant Array of Independent Disks (RAID) for data protection. It's like a private cloud for your home or office.</p></div>
                 </div>
            </div>
        </section>

        <section id="comparison" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                 <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Interactive Device Comparison</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-gray-600">Choosing the right storage involves trade-offs. This interactive dashboard allows you to visually compare different devices across key performance metrics. Select the devices and a metric on the left to see how they stack up and read the automated analysis below the chart.</p>
                 </div>
                 <div class="mt-12 bg-gray-50 p-6 rounded-xl shadow-md">
                    <div class="flex flex-col lg:flex-row gap-8">
                        <div class="lg:w-1/3 xl:w-1/4 p-4 border-r border-gray-200">
                            <h3 class="font-bold text-lg mb-2 text-gray-800">1. Select Devices:</h3>
                            <div id="device-selector" class="space-y-2"></div>
                            <h3 class="font-bold text-lg mb-2 mt-6 text-gray-800">2. Select Metric:</h3>
                            <div id="metric-selector" class="space-y-2"></div>
                        </div>
                        <div class="lg:w-2/3 xl:w-3/4 p-4">
                            <div class="h-96">
                                <canvas id="comparisonChart"></canvas>
                            </div>
                            <div class="mt-6 bg-white p-4 rounded-lg border border-gray-200 shadow-inner">
                                <h4 class="font-bold text-lg text-gray-800">Dynamic Analysis</h4>
                                <p id="chart-summary" class="mt-2 text-gray-600">Select at least two devices and a metric to see an analysis.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">IB-Style Knowledge Assessment</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-gray-600">This quiz is designed to mirror the style of an IB examination. You will be tested on your ability to recall key facts and apply your understanding to various scenarios.</p>
                </div>
                <div id="quiz-wrapper" class="mt-12 max-w-4xl mx-auto">
                    <div id="quiz-start-screen" class="text-center bg-gray-50 p-8 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">Ready to Test Your Knowledge?</h3>
                        <p class="mt-2 text-gray-600">You will have <strong>37 minutes</strong> to answer <strong>50 questions</strong> selected from our IB-focused question bank.</p>
                        <button id="start-quiz-btn" class="mt-6 px-8 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition">Start Quiz</button>
                    </div>

                    <div id="quiz-container" class="hidden">
                        <div class="flex justify-between items-center mb-4 p-4 bg-gray-100 rounded-lg">
                            <h3 class="text-xl font-bold text-gray-800">Secondary Storage Quiz</h3>
                            <div id="timer" class="text-lg font-bold text-red-500">37:00</div>
                        </div>
                        <div id="quiz-questions" class="space-y-6 bg-gray-50 p-6 rounded-lg"></div>
                        <button id="submit-quiz-btn" class="mt-8 w-full px-8 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition">Submit Answers</button>
                    </div>

                    <div id="quiz-results-screen" class="hidden text-center bg-gray-50 p-8 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">Quiz Complete!</h3>
                        <p class="mt-2 text-gray-600">Here are your results.</p>
                        <div id="quiz-score-display" class="my-4 text-4xl font-extrabold text-blue-600"></div>
                        <div id="quiz-time-taken" class="text-gray-600"></div>
                        <button id="review-answers-btn" class="mt-6 px-8 py-3 bg-gray-500 text-white font-semibold rounded-lg shadow-md hover:bg-gray-600 transition">Review Your Answers</button>
                        <div id="quiz-review" class="hidden mt-8 text-left space-y-6"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="resources" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Further Learning Resources</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-gray-600">To achieve a world-class understanding, supplement your learning with these curated resources. They provide deeper technical insights and alternative explanations to solidify your knowledge.</p>
                </div>
                <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                    <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                        <h4 class="font-bold text-lg text-blue-600">How Hard Drives Work</h4>
                        <p class="mt-2 text-sm text-gray-600">A fantastic, visual explanation of the intricate mechanical operations inside a traditional Hard Disk Drive.</p>
                        <a href="https://youtu.be/wtdnatmVdIg?si=-Y2whwpkWjonpOQs" target="_blank" class="mt-4 inline-block text-blue-500 hover:underline font-semibold">Watch on YouTube →</a>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                        <h4 class="font-bold text-lg text-blue-600">How SSDs Work</h4>
                        <p class="mt-2 text-sm text-gray-600">Explore the world of NAND flash memory and understand what makes Solid State Drives so fast and durable.</p>
                        <a href="https://youtu.be/5Mh3o886qpg?si=mistpa11guFppeTS" target="_blank" class="mt-4 inline-block text-blue-500 hover:underline font-semibold">Watch on YouTube →</a>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                        <h4 class="font-bold text-lg text-blue-600"> Network Attached Storage</h4>
                        <p class="mt-2 text-sm text-gray-600">A quick and clear overview of what a NAS is and why you might want one for your home or small business.</p>
                        <a href="https://youtu.be/Rp8_HFoIHpY?si=jAU_G0IFMCEJhXX2" target="_blank" class="mt-4 inline-block text-blue-500 hover:underline font-semibold">Watch on YouTube →</a>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                        <h4 class="font-bold text-lg text-blue-600">Crucial: SSD vs HDD</h4>
                        <p class="mt-2 text-sm text-gray-600">A detailed article from a leading manufacturer comparing the key differences between SSD and HDD technology.</p>
                        <a href="https://www.crucial.com/articles/about-ssd/ssd-vs-hdd" target="_blank" class="mt-4 inline-block text-blue-500 hover:underline font-semibold">Read Article →</a>
                    </div>
                    
                </div>
            </div>
        </section>
    </main>
    
    <footer class="fixed bottom-0 left-0 w-full bg-white py-2 border-t border-stone-200 text-center text-sm text-stone-500">
        <div class="container mx-auto px-6 flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-4">
            <div class="flex items-center space-x-4">
                <a href="https://www.linkedin.com/in/emmayeboah360/" class="text-blue-600 hover:text-blue-800 social-link" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.762s.784-1.762 1.75-1.762 1.75.79 1.75 1.762-.784 1.762-1.75 1.762zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                    </svg>
                </a>
                <a href="mailto:yemmanuel308@gmail.com" class="text-rose-600 hover:text-rose-800 social-link">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12.713l-11.75 6.287 11.75 5.5zM23.75 18.995l-11.75-6.287v11.748zM12 11.287l-12-6.287v1.868l12 6.287l12-6.287v-1.868z"/>
                    </svg>
                </a>
            </div>
            <p class="pl-4">&copy; 2025 Emmanuel Yeboah. All rights reserved.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.nav-link');
    const pages = document.querySelectorAll('.page-content');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    function switchTab(targetId) {
        pages.forEach(page => page.classList.remove('active'));
        const targetPage = document.getElementById(targetId);
        if (targetPage) {
            targetPage.classList.add('active');
        }

        navLinks.forEach(navLink => {
            navLink.classList.toggle('active', navLink.dataset.target === targetId);
        });
        
        mobileMenu.classList.add('hidden');
    }

    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = e.currentTarget.dataset.target;
            switchTab(targetId);
        });
    });

    const storageData = {
        'Internal HDD': { speed: 150, capacity: 4000, cost: 0.02, durability: 2 },
        'Internal SSD': { speed: 550, capacity: 1000, cost: 0.08, durability: 4 },
        'eMMC': { speed: 100, capacity: 128, cost: 0.15, durability: 3 },
        'USB Flash Drive': { speed: 150, capacity: 256, cost: 0.10, durability: 3 },
        'Memory Card': { speed: 100, capacity: 512, cost: 0.12, durability: 2 },
        'External HDD': { speed: 130, capacity: 5000, cost: 0.03, durability: 2 }
    };
    const metrics = {
        speed: { label: 'Avg. Speed (MB/s)', unit: 'MB/s', higherIsBetter: true },
        capacity: { label: 'Typical Capacity (GB)', unit: 'GB', higherIsBetter: true },
        cost: { label: 'Cost per GB ($)', unit: '$', higherIsBetter: false },
        durability: { label: 'Durability (Score 1-5)', unit: '/ 5', higherIsBetter: true }
    };
    let chart;
    let selectedDevices = ['Internal HDD', 'Internal SSD'];
    let selectedMetric = 'speed';

    function setupComparison() {
        const deviceSelector = document.getElementById('device-selector');
        if (!deviceSelector) return;
        deviceSelector.innerHTML = '';
        Object.keys(storageData).forEach(deviceName => {
            const isChecked = selectedDevices.includes(deviceName) ? 'checked' : '';
            deviceSelector.innerHTML += `<label class="flex items-center space-x-2 cursor-pointer"><input type="checkbox" class="device-checkbox rounded text-blue-500 focus:ring-blue-500" value="${deviceName}" ${isChecked}><span>${deviceName}</span></label>`;
        });

        const metricSelector = document.getElementById('metric-selector');
        metricSelector.innerHTML = '';
        Object.keys(metrics).forEach((metricKey) => {
            const isChecked = metricKey === selectedMetric ? 'checked' : '';
            metricSelector.innerHTML += `<label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="metric" class="metric-radio text-blue-500 focus:ring-blue-500" value="${metricKey}" ${isChecked}><span>${metrics[metricKey].label}</span></label>`;
        });
        
        document.querySelectorAll('.device-checkbox').forEach(cb => { cb.addEventListener('change', () => {
            selectedDevices = Array.from(document.querySelectorAll('.device-checkbox:checked')).map(el => el.value);
            updateChart();
        }); });
        
        document.querySelectorAll('.metric-radio').forEach(radio => { radio.addEventListener('change', () => {
            selectedMetric = document.querySelector('.metric-radio:checked').value;
            updateChart();
        }); });

        const ctx = document.getElementById('comparisonChart')?.getContext('2d');
        if (!ctx) return;

        if (window.comparisonChart instanceof Chart) {
            window.comparisonChart.destroy();
        }
        window.comparisonChart = new Chart(ctx, { type: 'bar', data: { labels: [], datasets: [] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false }, title: { display: true, text: '', font: { size: 18 } }, tooltip: { callbacks: { label: (context) => `${context.dataset.label || ''}: ${context.parsed.y} ${metrics[selectedMetric].unit}` } } }, scales: { y: { beginAtZero: true, title: { display: true, text: '' } } } } });
        updateChart();
    }

    function updateChart() {
        if (!window.comparisonChart) return;
        const chartData = selectedDevices.map(device => storageData[device][selectedMetric]);
        const chartColors = selectedDevices.map(device => `hsla(${195 + Object.keys(storageData).indexOf(device) * 40}, 70%, 60%, 0.6)`);
        window.comparisonChart.data.labels = selectedDevices;
        window.comparisonChart.data.datasets = [{ label: metrics[selectedMetric].label, data: chartData, backgroundColor: chartColors, borderColor: chartColors.map(c => c.replace('0.6', '1')), borderWidth: 1 }];
        window.comparisonChart.options.plugins.title.text = `Comparison of ${metrics[selectedMetric].label}`;
        window.comparisonChart.options.scales.y.title.text = metrics[selectedMetric].label;
        window.comparisonChart.update();
        updateChartSummary();
    }
    
    function updateChartSummary() {
        const summaryEl = document.getElementById('chart-summary');
        if (!summaryEl) return;
        if (selectedDevices.length < 2) {
            summaryEl.innerHTML = "Select at least two devices to compare.";
            return;
        }
        
        const metricInfo = metrics[selectedMetric];
        const values = selectedDevices.map(d => ({ name: d, value: storageData[d][selectedMetric] }));
        
        let sortedValues = [...values].sort((a, b) => metricInfo.higherIsBetter ? b.value - a.value : a.value - b.value);
        
        const best = sortedValues[0];
        const worst = sortedValues[sortedValues.length - 1];

        summaryEl.innerHTML = `For <strong class="text-blue-600">${metricInfo.label}</strong>, the <strong class="text-green-600">${best.name}</strong> performs best with a value of ${best.value} ${metricInfo.unit}. Conversely, the <strong class="text-red-600">${worst.name}</strong> ranks last with ${worst.value} ${metricInfo.unit}.`;
    }

    const startQuizBtn = document.getElementById('start-quiz-btn');
    const quizStartScreen = document.getElementById('quiz-start-screen');
    const quizContainer = document.getElementById('quiz-container');
    const quizQuestionsContainer = document.getElementById('quiz-questions');
    const submitQuizBtn = document.getElementById('submit-quiz-btn');
    const quizResultsScreen = document.getElementById('quiz-results-screen');
    const quizScoreDisplay = document.getElementById('quiz-score-display');
    const quizTimeTakenEl = document.getElementById('quiz-time-taken');
    const reviewAnswersBtn = document.getElementById('review-answers-btn');
    const quizReviewEl = document.getElementById('quiz-review');
    const timerEl = document.getElementById('timer');

    let timerInterval;
    let timeRemaining;
    let activeQuizQuestions = [];
    const userAnswers = [];

    const questionBank = [ { q: "Which internal storage device is characterized by its mechanical nature, involving spinning platters and a read/write head?", options: ["SSD", "eMMC", "HDD", "RAM"], answer: "HDD" }, { q: "What is the primary advantage of an SSD over an HDD?", options: ["Lower cost per gigabyte", "Higher storage capacity", "Faster data access speeds", "Longer lifespan"], answer: "Faster data access speeds" }, { q: "eMMC storage is typically found in which type of device?", options: ["High-end gaming desktops", "Enterprise servers", "Budget smartphones and Chromebooks", "Professional workstations"], answer: "Budget smartphones and Chromebooks" }, { q: "Which of the following is NOT an example of an external storage device?", options: ["USB Flash Drive", "Internal HDD", "NAS", "Memory Card"], answer: "Internal HDD" }, { q: "A NAS is best described as:", options: ["A very large USB flash drive", "A storage device connected to a network", "A faster type of optical drive", "A type of internal SSD"], answer: "A storage device connected to a network" }, { q: "For long-term archival of large amounts of data where cost is the main concern, which external storage solution is most suitable?", options: ["External SSD", "External HDD", "A large USB flash drive", "Blu-ray Discs"], answer: "External HDD" }, { q: "Which technology does an SSD use to store data?", options: ["Magnetic platters", "Laser-etched pits", "NAND flash memory", "Volatile DRAM"], answer: "NAND flash memory" }, { q: "The term 'non-volatile' means that the storage device:", options: ["Is very slow", "Retains data without power", "Has no moving parts", "Is not portable"], answer: "Retains data without power" }, { q: "A professional photographer on location would most likely use which type of external storage to save photos from their camera?", options: ["NAS", "External HDD", "Memory Card", "Optical Drive"], answer: "Memory Card" }, { q: "What is a primary disadvantage of eMMC storage compared to a standard internal SSD?", options: ["It is volatile", "It has a larger physical size", "It is significantly slower", "It uses magnetic storage"], answer: "It is significantly slower" }, { q: "Optical drives read data using a:", options: ["Magnetic head", "Stylus", "Laser", "Flash controller"], answer: "Laser" }, { q: "A user needs to quickly transfer a 1GB presentation file between two laptops. Which device is most practical for this task?", options: ["NAS", "Internal SSD", "USB Flash Drive", "CD-R"], answer: "USB Flash Drive" }, { q: "The physical components 'actuator arm' and 'spindle' are found in which device?", options: ["SSD", "eMMC", "HDD", "Flash Drive"], answer: "HDD" }, { q: "Which of these is NOT a typical form factor for an internal SSD?", options: ["2.5-inch", "M.2", "3.5-inch", "NVMe"], answer: "3.5-inch" }, { q: "A small business wants to centralize their file storage for 10 employees. What is the most appropriate solution?", options: ["A large external HDD for each employee", "A shared USB flash drive", "A NAS", "Cloud storage only"], answer: "A NAS" }, { q: "The term 'solid state' in SSD refers to:", options: ["The hard metal casing", "The use of solid, non-moving electronic circuits", "Its high durability", "Its non-volatile nature"], answer: "The use of solid, non-moving electronic circuits" }, { q: "Which internal storage is non-upgradable by the user?", options: ["HDD", "SATA SSD", "eMMC", "M.2 SSD"], answer: "eMMC" }, { q: "Which external storage device would be the least practical for carrying in a pocket?", options: ["USB Flash Drive", "microSD Card", "External HDD", "SD Card"], answer: "External HDD" }, { q: "CDs, DVDs, and Blu-rays are all types of:", options: ["Flash storage", "Magnetic storage", "Optical media", "Solid-state storage"], answer: "Optical media" }, { q: "The performance of an HDD is often measured in RPM. What does RPM stand for?", options: ["Reads Per Minute", "Revolutions Per Minute", "Random Read Performance Metric", "Rotational Power Management"], answer: "Revolutions Per Minute" }, { q: "True or False: An external SSD is generally more resistant to physical shock than an external HDD.", options: ["True", "False"], answer: "True" }, { q: "Which of these devices would offer the lowest cost per terabyte?", options: ["Internal SSD", "Internal HDD", "eMMC", "USB Flash Drive"], answer: "Internal HDD" }, { q: "A scenario requiring the absolute fastest boot time for an operating system would best be served by an:", options: ["eMMC", "7200 RPM HDD", "NVMe SSD", "5400 RPM HDD"], answer: "NVMe SSD" }, { q: "Which device is a form of secondary storage?", options: ["CPU Cache", "RAM", "SSD", "Registers"], answer: "SSD" }, { q: "A drone pilot capturing 4K video would record the footage onto a:", options: ["NAS", "Memory Card", "External HDD", "DVD"], answer: "Memory Card" }, { q: "Which device is designed to be accessed by multiple users over a network simultaneously?", options: ["External SSD", "USB Flash Drive", "NAS", "Memory Card"], answer: "NAS" }, { q: "Pits and lands are features of which storage technology?", options: ["HDD", "SSD", "Optical Drive", "eMMC"], answer: "Optical Drive" }, { q: "True or False: All M.2 drives are faster than all 2.5-inch SATA drives.", options: ["True", "False"], answer: "False" }, { q: "What is the primary reason eMMC is used in budget devices?", options: ["It is the fastest technology", "It is extremely durable", "It has the highest capacity", "It is very low cost"], answer: "It is very low cost" }, { q: "An external storage device that requires its own power adapter is most likely to be a:", options: ["USB Flash Drive", "Memory Card", "3.5-inch External HDD", "2.5-inch External SSD"], answer: "3.5-inch External HDD" }, { q: "Which of the following is a type of internal secondary memory?", options: ["Optical Drive", "Flash Drive", "eMMC", "External HDD"], answer: "eMMC" }, { q: "Wear-leveling is a technology used in which type of storage?", options: ["HDD", "SSD", "Optical Discs", "Magnetic Tape"], answer: "SSD" }, { q: "Which scenario is LEAST suitable for an HDD?", options: ["Storing a large movie library", "Long-term data backup", "Installing the primary operating system in a modern laptop", "Archiving old project files"], answer: "Installing the primary operating system in a modern laptop" }, { q: "True or False: A NAS device must be physically connected to a computer via USB to be accessed.", options: ["True", "False"], answer: "False" }, { q: "For a task that requires frequent, random access to small files, which would perform best?", options: ["HDD", "SSD", "Optical Drive", "Magnetic Tape"], answer: "SSD" }, { q: "What is a key difference between an internal HDD and an external HDD?", options: ["The underlying technology", "The presence of an enclosure and interface (e.g., USB)", "The storage capacity", "The use of magnetism"], answer: "The presence of an enclosure and interface (e.g., USB)" }, { q: "Which device would you NOT find inside a modern, thin-and-light ultrabook?", options: ["M.2 SSD", "eMMC", "3.5-inch HDD", "RAM"], answer: "3.5-inch HDD" }, { q: "A 'private cloud' for a home user is best implemented with a:", options: ["Large USB Flash Drive", "NAS", "Series of external HDDs", "Blu-ray writer"], answer: "NAS" }, { q: "Which of these is NOT an advantage of SSDs over HDDs?", options: ["Lower power consumption", "Silent operation", "Higher capacity for the same cost", "Greater shock resistance"], answer: "Higher capacity for the same cost" }, { q: "True or False: Flash drives and memory cards use the same underlying NAND flash technology.", options: ["True", "False"], answer: "True" }, { q: "A gamer wanting to reduce game loading times should install their games on an:", options: ["External HDD", "Internal SSD", "NAS", "Internal HDD"], answer: "Internal SSD" }, { q: "Which device is most likely to have its storage soldered directly to the motherboard?", options: ["Desktop PC", "Gaming Laptop", "Server", "Budget Tablet"], answer: "Budget Tablet" }, { q: "The physical size of the storage device is the most critical factor for a:", options: ["Data center server", "Desktop gaming PC", "Digital camera", "Home media server"], answer: "Digital camera" }, { q: "Which storage technology is considered legacy for most consumer applications?", options: ["SSD", "HDD", "Optical Drive", "NAS"], answer: "Optical Drive" }, { q: "To expand the storage of a smartphone, one would typically use a:", options: ["USB Flash Drive", "MicroSD Card", "External SSD", "Portable HDD"], answer: "MicroSD Card" }, { q: "RAID configurations are most commonly found in which type of storage solution?", options: ["USB Flash Drives", "NAS", "Memory Cards", "eMMC"], answer: "NAS" }, { q: "Which factor is the primary trade-off for the high speed of an SSD?", options: ["Low durability", "High power consumption", "Large physical size", "Higher cost per gigabyte"], answer: "Higher cost per gigabyte" }, { q: "True or False: An internal drive can be converted into an external drive using an enclosure.", options: ["True", "False"], answer: "True" }, { q: "Which of these would be classified as secondary memory?", options: ["CPU Cache", "DRAM", "HDD", "ALU"], answer: "HDD" }, { q: "A user who needs to frequently transport large video files between work and home would benefit most from a:", options: ["NAS", "Fast External SSD", "Internal HDD", "Stack of Blu-ray discs"], answer: "Fast External SSD" } ];

    function startTimer() {
        timerInterval = setInterval(() => {
            timeRemaining--;
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            timerEl.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeRemaining <= 0) {
                clearInterval(timerInterval);
                submitQuiz();
            }
        }, 1000);
    }

    function displayQuestions() {
        quizQuestionsContainer.innerHTML = '';
        activeQuizQuestions.forEach((item, index) => {
            const questionEl = document.createElement('div');
            questionEl.className = 'bg-white p-5 rounded-lg shadow-sm';
            
            let optionsHtml = item.options.map(option => `<div><label class="quiz-option-label block w-full text-left p-3 my-2 border rounded-md cursor-pointer hover:bg-blue-100"><input type="radio" name="question${index}" value="${option}" class="hidden"> ${option}</label></div>`).join('');

            questionEl.innerHTML = `<p class="font-semibold text-gray-800">${index + 1}. ${item.q}</p><div class="mt-2">${optionsHtml}</div>`;
            quizQuestionsContainer.appendChild(questionEl);
        });

        document.querySelectorAll('.quiz-option-label').forEach(label => {
            label.addEventListener('click', () => {
                const questionName = label.querySelector('input').name;
                document.querySelectorAll(`input[name="${questionName}"]`).forEach(radio => {
                    radio.parentElement.classList.remove('selected');
                });
                label.classList.add('selected');
            });
        });
    }

    function submitQuiz() {
        clearInterval(timerInterval);
        const totalTime = 37 * 60;
        const timeTaken = totalTime - timeRemaining;
        const minutes = Math.floor(timeTaken / 60);
        const seconds = timeTaken % 60;

        let score = 0;
        userAnswers.length = 0;

        activeQuizQuestions.forEach((item, index) => {
            const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
            const userAnswer = selectedOption ? selectedOption.value : null;
            userAnswers.push(userAnswer);
            if (userAnswer === item.answer) {
                score++;
            }
        });

        quizContainer.classList.add('hidden');
        quizResultsScreen.classList.remove('hidden');

        quizScoreDisplay.textContent = `You scored ${score} out of ${activeQuizQuestions.length}`;
        quizTimeTakenEl.textContent = `Time taken: ${minutes} minutes and ${seconds} seconds.`;
    }

    function displayReview() {
        quizReviewEl.innerHTML = '';
        activeQuizQuestions.forEach((item, index) => {
            const userAnswer = userAnswers[index];
            const isCorrect = userAnswer === item.answer;

            const questionEl = document.createElement('div');
            questionEl.className = 'bg-gray-100 p-5 rounded-lg shadow-sm';

            let optionsHtml = item.options.map(option => {
                let labelClass = 'quiz-option-label block w-full text-left p-3 my-2 border rounded-md';
                if (option === item.answer) {
                    labelClass += ' correct';
                } else if (option === userAnswer && !isCorrect) {
                    labelClass += ' incorrect';
                }
                return `<div><label class="${labelClass}">${option}</label></div>`;
            }).join('');

            questionEl.innerHTML = `<p class="font-semibold text-gray-800">${index + 1}. ${item.q}</p><p class="text-sm mt-2">Your answer: <strong class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer || "Not answered"}</strong></p><div class="mt-2">${optionsHtml}</div>`;
            quizReviewEl.appendChild(questionEl);
        });
    }

    startQuizBtn.addEventListener('click', () => {
        const shuffled = [...questionBank].sort(() => 0.5 - Math.random());
        activeQuizQuestions = shuffled.slice(0, 50);

        quizStartScreen.classList.add('hidden');
        quizContainer.classList.remove('hidden');
        quizResultsScreen.classList.add('hidden');
        quizReviewEl.classList.add('hidden');
        reviewAnswersBtn.textContent = 'Review Your Answers';
        
        timeRemaining = 37 * 60;
        timerEl.textContent = "37:00";
        startTimer();
        displayQuestions();
    });

    submitQuizBtn.addEventListener('click', submitQuiz);
    reviewAnswersBtn.addEventListener('click', () => {
        quizReviewEl.classList.toggle('hidden');
        reviewAnswersBtn.textContent = quizReviewEl.classList.contains('hidden') ? 'Review Your Answers' : 'Hide Answers';
        if (!quizReviewEl.classList.contains('hidden')) {
            displayReview();
        }
    });

    // Initial setup
    setupComparison();
    switchTab('home');
});
</script>

</body>
</html>