<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logic Gates Guide</title>
    <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">ðŸ’¡</text></svg>'>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #F8FAFC; color: #334155; padding-bottom: 60px; }
        .nav-link { transition: color 0.3s, border-bottom-color 0.3s; border-bottom: 2px solid transparent; cursor: pointer; }
        .nav-link.active, .nav-link:hover { color: #3B82F6; border-bottom-color: #3B82F6; }
        .page-content { display: none; animation: fadeIn 0.8s ease-in-out forwards; }
        .page-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .social-link svg { transition: transform 0.3s ease; }
        .social-link:hover svg { transform: scale(1.2); }
        .quiz-option-label { transition: all 0.2s ease-in-out; }
        .quiz-option-label.selected { background-color: #BFDBFE; border-color: #3B82F6; }
        .quiz-option-label.correct { background-color: #D1FAE5 !important; color: #065F46 !important; border-color: #10B981 !important; }
        .quiz-option-label.incorrect { background-color: #FEE2E2 !important; color: #991B1B !important; border-color: #EF4444 !important; }
        .code-block { background-color: #F1F5F9; border-left: 4px solid #3B82F6; padding: 1rem; font-family: 'Courier New', Courier, monospace; border-radius: 0 0.25rem 0.25rem 0; overflow-x: auto; font-size: 0.9rem; line-height: 1.5; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #CBD5E1; padding: 8px; text-align: center; }
        th { background-color: #E2E8F0; }
        /* Simulation Styles */
        .sim-gate { border: 2px solid #64748B; background-color: #F1F5F9; transition: background-color 0.3s; }
        .sim-wire { transition: border-color 0.3s; }
        .sim-wire.active { border-color: #3B82F6 !important; }
        .sim-gate.active { background-color: #BFDBFE; }
        .truth-table-row.highlighted { background-color: #FEF3C7; }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-800">Logic Gates Explained</h1>
                </div>
                <div class="hidden md:flex items-center">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a data-target="home" class="nav-link active px-3 py-2 rounded-md text-sm font-medium">Home</a>
                        <a data-target="fundamental" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Fundamental Gates</a>
                        <a data-target="universal" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Universal Gates</a>
                        <a data-target="exclusive" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Exclusive Gates</a>
                        <a data-target="application" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Application</a>
                        <a data-target="quiz" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Quiz</a>
                        <a data-target="resources" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Resources</a>
                    </div>
                     <div class="ml-4 pl-4 border-l border-gray-300">
                        <a href="index.html" class="inline-flex items-center bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-semibold hover:bg-blue-200 transition-colors">
                            Back to Curriculum
                        </a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a data-target="home" class="nav-link mobile-link active block px-3 py-2 rounded-md text-base font-medium">Home</a>
                    <a data-target="fundamental" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Fundamental Gates</a>
                    <a data-target="universal" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Universal Gates</a>
                    <a data-target="exclusive" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Exclusive Gates</a>
                    <a data-target="application" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Application</a>
                    <a data-target="quiz" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Quiz</a>
                    <a data-target="resources" class="nav-link mobile-link block px-3 py-2 rounded-md text-base font-medium">Resources</a>
                     <div class="mt-2 pt-2 border-t border-zinc-200">
                        <a href="index.html" class="block text-center py-2 px-3 rounded-lg bg-blue-100 text-blue-800 font-semibold">Back to Curriculum</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="page-content active py-12 sm:py-16 lg:py-24">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-gray-900 tracking-tight">The Building Blocks of Digital Logic</h2>
                <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-slate-600"><strong>Logic gates</strong> are the elementary building blocks of any digital system. They are simple electronic circuits that perform a basic logical operation on one or more binary inputs to produce a single binary output. This guide explores the purpose, function, and application of the essential logic gates that power all modern computers.</p>
                
                <div class="mt-10 max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-sm border border-slate-200 text-left">
                    <h3 class="text-xl font-bold text-gray-800 text-center mb-4">Syllabus Focus: A1.2.3</h3>
                    <p class="font-semibold text-slate-700">This guide comprehensively covers the syllabus requirement to "Describe the purpose and use of logic gates." By exploring all the tabs, you will master:</p>
                    <ul class="list-disc list-inside mt-4 space-y-2 text-slate-600">
                        <li>The purpose, functions, and applications of logic gates in computer systems.</li>
                        <li>The role of logic gates in binary computing.</li>
                        <li>The Boolean operators: <strong>AND, OR, NOT, NAND, NOR, XOR, XNOR</strong>.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="fundamental" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Fundamental Gates: The Basic Trio</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-slate-600">These three gatesâ€”AND, OR, and NOTâ€”form the basis of all digital logic.</p>
                </div>
                <div class="mt-12 space-y-12">
                    <div class="bg-slate-50 p-6 rounded-xl shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">AND Gate</h3>
                        <p class="mt-2 text-slate-600">The AND gate outputs a 1 (true) only if <strong>all</strong> of its inputs are 1. If any input is 0, the output is 0. Think of it as a test for "all conditions must be met".</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 items-start">
                            <div>
                                <h4 class="font-semibold mb-2">Details</h4>
                                <p><strong>Analogy:</strong> Two switches in series controlling a light bulb. Both Switch A AND Switch B must be on for the light to turn on.</p>
                                <p class="mt-2"><strong>Boolean Expression:</strong> $Q = A \cdot B$</p>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">2-Input Truth Table</h4>
                                <table><thead><tr><th>A</th><th>B</th><th>Output Q</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td></tr><tr><td>1</td><td>1</td><td>1</td></tr></tbody></table>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-xl shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">OR Gate</h3>
                        <p class="mt-2 text-slate-600">The OR gate outputs a 1 (true) if <strong>at least one</strong> of its inputs is 1. It only outputs 0 if all of its inputs are 0. Think of it as a test for "any condition is met".</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 items-start">
                             <div>
                                <h4 class="font-semibold mb-2">Details</h4>
                                <p><strong>Analogy:</strong> Two switches in parallel controlling a light bulb. If Switch A OR Switch B (or both) are on, the light will turn on.</p>
                                <p class="mt-2"><strong>Boolean Expression:</strong> $Q = A + B$</p>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">2-Input Truth Table</h4>
                                <table><thead><tr><th>A</th><th>B</th><th>Output Q</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td></tr></tbody></table>
                            </div>
                        </div>
                    </div>
                     <div class="bg-slate-50 p-6 rounded-xl shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">NOT Gate (Inverter)</h3>
                        <p class="mt-2 text-slate-600">The NOT gate is the simplest gate. It takes a single input and outputs its opposite value. A 1 becomes a 0, and a 0 becomes a 1.</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 items-start">
                            <div>
                                <h4 class="font-semibold mb-2">Details</h4>
                                <p><strong>Analogy:</strong> A "normally closed" push button. The circuit is on by default, but pushing the button (input=1) breaks the circuit and turns it off (output=0).</p>
                                <p class="mt-2"><strong>Boolean Expression:</strong> $Q = \overline{A}$</p>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">Truth Table</h4>
                                <table><thead><tr><th>A</th><th>Output Q</th></tr></thead><tbody><tr><td>0</td><td>1</td></tr><tr><td>1</td><td>0</td></tr></tbody></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="universal" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Universal Gates: NAND & NOR</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-slate-600">NAND and NOR gates are called "universal" because any of the other logic gates (AND, OR, NOT) can be constructed using only NAND gates or only NOR gates. This property made them crucial in the design of early integrated circuits.</p>
                </div>
                <div class="mt-12 space-y-12">
                    <div class="bg-slate-50 p-6 rounded-xl shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">NAND Gate (NOT AND)</h3>
                        <p class="mt-2 text-slate-600">The NAND gate is the inverse of an AND gate. It outputs a 0 only if all its inputs are 1. Otherwise, the output is 1.</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 items-start">
                            <div>
                                <h4 class="font-semibold mb-2">Details</h4>
                                <p><strong>Boolean Expression:</strong> $Q = \overline{A \cdot B}$</p>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">2-Input Truth Table</h4>
                                <table><thead><tr><th>A</th><th>B</th><th>Output Q</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-xl shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">NOR Gate (NOT OR)</h3>
                        <p class="mt-2 text-slate-600">The NOR gate is the inverse of an OR gate. It outputs a 1 only if all its inputs are 0. Otherwise, the output is 0.</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 items-start">
                             <div>
                                <h4 class="font-semibold mb-2">Details</h4>
                                <p><strong>Boolean Expression:</strong> $Q = \overline{A + B}$</p>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">2-Input Truth Table</h4>
                                <table><thead><tr><th>A</th><th>B</th><th>Output Q</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="exclusive" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Exclusive Gates: XOR & XNOR</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-slate-600">These gates are used for more specialized operations, often related to binary arithmetic and comparisons.</p>
                </div>
                <div class="mt-12 space-y-12">
                    <div class="bg-slate-50 p-6 rounded-xl shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">XOR Gate (Exclusive OR)</h3>
                        <p class="mt-2 text-slate-600">The XOR gate outputs a 1 only if its inputs are <strong>different</strong>. If the inputs are the same (both 0 or both 1), the output is 0. It's a "difference detector".</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 items-start">
                            <div>
                                <h4 class="font-semibold mb-2">Details</h4>
                                <p><strong>Analogy:</strong> A two-way light switch for a staircase. Flipping either switch changes the state of the light. The light is on if the switches are in different positions.</p>
                                <p class="mt-2"><strong>Boolean Expression:</strong> $Q = A \oplus B$</p>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">2-Input Truth Table</h4>
                                <table><thead><tr><th>A</th><th>B</th><th>Output Q</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-xl shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">XNOR Gate (Exclusive NOR)</h3>
                        <p class="mt-2 text-slate-600">The XNOR gate is the inverse of an XOR gate. It outputs a 1 only if its inputs are the <strong>same</strong> (both 0 or both 1). If the inputs are different, the output is 0. It's an "equality detector".</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 items-start">
                             <div>
                                <h4 class="font-semibold mb-2">Details</h4>
                                <p><strong>Analogy:</strong> A system that checks if two security keys match. The door unlocks (output=1) only if both keys are present (1,1) or both are absent (0,0).</p>
                                <p class="mt-2"><strong>Boolean Expression:</strong> $Q = \overline{A \oplus B}$</p>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">2-Input Truth Table</h4>
                                <table><thead><tr><th>A</th><th>B</th><th>Output Q</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td></tr><tr><td>1</td><td>1</td><td>1</td></tr></tbody></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="application" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Interactive Application: The Half-Adder</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-slate-600">Logic gates are combined to perform useful tasks, like arithmetic. The most basic arithmetic circuit is a <strong>half-adder</strong>, which adds two single bits. Use the interactive simulation below to see how it works!</p>
                </div>
                <div class="mt-12 bg-slate-50 p-6 rounded-xl shadow-md">
                    <div class="grid lg:grid-cols-2 gap-8 items-center">
                        <div class="relative h-64 scale-90 md:scale-100">
                            <div class="absolute top-8 left-0 flex flex-col gap-16">
                                <button id="sim-input-a" class="w-20 h-12 bg-gray-300 text-gray-800 font-bold text-xl rounded shadow" data-value="0">A = 0</button>
                                <button id="sim-input-b" class="w-20 h-12 bg-gray-300 text-gray-800 font-bold text-xl rounded shadow" data-value="0">B = 0</button>
                            </div>
                            <div class="absolute left-20 top-14 w-12 border-b-4 sim-wire" id="wire-a-xor"></div>
                            <div class="absolute left-20 top-30 w-12 border-b-4 sim-wire" id="wire-b-xor"></div>
                            <div class="absolute left-10 top-14 h-24 border-l-4 sim-wire" id="wire-a-and-v"></div>
                            <div class="absolute left-10 top-38 h-8 border-l-4 sim-wire" id="wire-b-and-v"></div>
                            <div class="absolute left-10 top-[150px] w-22 border-b-4 sim-wire" id="wire-a-and-h"></div>
                            <div class="absolute left-10 top-[182px] w-22 border-b-4 sim-wire" id="wire-b-and-h"></div>
                            <div class="absolute left-56 top-20 w-16 border-b-4 sim-wire" id="wire-sum"></div>
                            <div class="absolute left-56 top-48 w-16 border-b-4 sim-wire" id="wire-carry"></div>

                            <div id="gate-xor" class="sim-gate absolute top-8 left-32 w-24 h-24 flex items-center justify-center font-bold rounded-lg text-lg">XOR</div>
                            <div id="gate-and" class="sim-gate absolute top-36 left-32 w-24 h-24 flex items-center justify-center font-bold rounded-lg text-lg">AND</div>
                            
                            <div class="absolute top-8 left-72 flex flex-col items-center">
                                <span class="font-bold">SUM</span>
                                <div id="sim-output-sum" class="w-16 h-12 bg-gray-200 text-gray-800 font-bold text-xl rounded shadow flex items-center justify-center">0</div>
                            </div>
                            <div class="absolute top-36 left-72 flex flex-col items-center">
                                <span class="font-bold">CARRY</span>
                                <div id="sim-output-carry" class="w-16 h-12 bg-gray-200 text-gray-800 font-bold text-xl rounded shadow flex items-center justify-center">0</div>
                            </div>
                        </div>

                        <div>
                            <h3 class="font-bold text-lg text-center mb-2">Live Truth Table</h3>
                            <table id="sim-truth-table" class="w-full text-sm">
                                <thead><tr><th>A</th><th>B</th><th>Sum</th><th>Carry</th></tr></thead>
                                <tbody>
                                    <tr id="row-00" class="truth-table-row transition-colors"><td>0</td><td>0</td><td>0</td><td>0</td></tr>
                                    <tr id="row-01" class="truth-table-row transition-colors"><td>0</td><td>1</td><td>1</td><td>0</td></tr>
                                    <tr id="row-10" class="truth-table-row transition-colors"><td>1</td><td>0</td><td>1</td><td>0</td></tr>
                                    <tr id="row-11" class="truth-table-row transition-colors"><td>1</td><td>1</td><td>0</td><td>1</td></tr>
                                </tbody>
                            </table>
                             <div id="sim-explanation-panel" class="mt-4 bg-white p-4 rounded-lg shadow-inner min-h-[180px]">
                                <h4 class="font-bold text-gray-800">Explanation</h4>
                                <p class="text-sm mt-1">Click the A and B input buttons to change their values and see how the circuit reacts. The highlighted row in the truth table corresponds to the current inputs.</p>
                             </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Knowledge Check</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-slate-600">Test your understanding of logic gates, their functions, and applications.</p>
                </div>
                <div id="quiz-wrapper" class="mt-12 max-w-4xl mx-auto">
                    <div id="quiz-start-screen" class="text-center bg-slate-50 p-8 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">Ready to Test Your Knowledge?</h3>
                        <p class="mt-2 text-slate-600">You will have <strong>40 minutes</strong> to answer <strong>60 questions</strong> selected from a large question bank.</p>
                        <button id="start-quiz-btn" class="mt-6 px-8 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition">Start Quiz</button>
                    </div>
                    <div id="quiz-container" class="hidden">
                        <div class="flex justify-between items-center mb-4 p-4 bg-slate-100 rounded-lg">
                            <h3 class="text-xl font-bold text-gray-800">Logic Gates Quiz</h3>
                            <div id="timer" class="text-lg font-bold text-red-500">40:00</div>
                        </div>
                        <div id="quiz-questions" class="space-y-6 bg-slate-50 p-6 rounded-lg"></div>
                        <button id="submit-quiz-btn" class="mt-8 w-full px-8 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition">Submit Answers</button>
                    </div>
                    <div id="quiz-results-screen" class="hidden text-center bg-slate-50 p-8 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-gray-800">Quiz Complete!</h3>
                        <p class="mt-2 text-slate-600">Here are your results.</p>
                        <div id="quiz-score-display" class="my-4 text-4xl font-extrabold text-blue-600"></div>
                        <div id="quiz-time-taken" class="text-slate-600"></div>
                        <button id="review-answers-btn" class="mt-6 px-8 py-3 bg-gray-500 text-white font-semibold rounded-lg shadow-md hover:bg-gray-600 transition">Review Your Answers</button>
                        <div id="quiz-review" class="hidden mt-8 text-left space-y-6"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="resources" class="page-content hidden py-12 sm:py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">Further Learning Resources</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-base sm:text-lg text-slate-600">Deepen your understanding with these curated external resources.</p>
                </div>
                <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                    <div class="bg-slate-50 p-6 rounded-lg shadow-md">
                        <h4 class="font-bold text-lg text-blue-600">Logic Gates, Truth Tables, Boolean Algebra</h4>
                        <p class="mt-2 text-sm text-slate-600">A comprehensive tutorial covering AND, OR, NOT, NAND, NOR, and XOR gates from a popular educational channel.</p>
                        <a href="https://youtu.be/JQBRzsPhw2w?si=djoqM3HHEZzZDoFa" target="_blank" class="mt-4 inline-block text-blue-500 hover:underline font-semibold">Watch on YouTube â†’</a>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-lg shadow-md">
                        <h4 class="font-bold text-lg text-blue-600">CrashCourse: Logic Gates</h4>
                        <p class="mt-2 text-sm text-slate-600">A fast-paced and highly visual explanation of how logic gates work and form the basis of computation.</p>
                        <a href="https://www.youtube.com/watch?v=gI-qXk7XojA" target="_blank" class="mt-4 inline-block text-blue-500 hover:underline font-semibold">Watch on YouTube â†’</a>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-lg shadow-md">
                        <h4 class="font-bold text-lg text-blue-600">All About Circuits: Logic Gates</h4>
                        <p class="mt-2 text-sm text-slate-600">An in-depth textbook-style article series covering all logic gates with detailed explanations and circuit diagrams.</p>
                        <a href="https://www.allaboutcircuits.com/textbook/digital/" target="_blank" class="mt-4 inline-block text-blue-500 hover:underline font-semibold">Read Article â†’</a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="fixed bottom-0 left-0 w-full bg-white py-2 border-t border-slate-200 text-center text-sm text-slate-500">
        <div class="container mx-auto px-6 flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-4">
            <div class="flex items-center space-x-4">
                <a href="https://www.linkedin.com/in/emmayeboah360/" class="text-blue-600 hover:text-blue-800 social-link" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.762s.784-1.762 1.75-1.762 1.75.79 1.75 1.762-.784 1.762-1.75 1.762zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                </a>
                <a href="mailto:yemmanuel308@gmail.com" class="text-rose-600 hover:text-rose-800 social-link">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12.713l-11.75 6.287 11.75 5.5zM23.75 18.995l-11.75-6.287v11.748zM12 11.287l-12-6.287v1.868l12 6.287l12-6.287v-1.868z"/></svg>
                </a>
            </div>
            <p class="pl-4">&copy; 2025 Emmanuel Yeboah. All rights reserved.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    // --- Navigation ---
    const navLinks = document.querySelectorAll('.nav-link');
    const pages = document.querySelectorAll('.page-content');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

    function switchTab(targetId) {
        pages.forEach(page => page.classList.remove('active'));
        const targetPage = document.getElementById(targetId);
        if (targetPage) targetPage.classList.add('active');
        navLinks.forEach(link => link.classList.toggle('active', link.dataset.target === targetId));
        mobileMenu.classList.add('hidden');
        if (targetId === 'application' && !document.getElementById('sim-input-a').dataset.initialized) {
             initHalfAdderSimulator();
        }
    }

    navLinks.forEach(link => link.addEventListener('click', (e) => {
        e.preventDefault();
        switchTab(e.currentTarget.dataset.target);
    }));

    // --- Half Adder Simulation ---
    function initHalfAdderSimulator() {
        const inputA = document.getElementById('sim-input-a');
        const inputB = document.getElementById('sim-input-b');
        const gateXOR = document.getElementById('gate-xor');
        const gateAND = document.getElementById('gate-and');
        const outputSum = document.getElementById('sim-output-sum');
        const outputCarry = document.getElementById('sim-output-carry');
        const explanationPanel = document.getElementById('sim-explanation-panel');
        
        const wires = {
            a_xor: document.getElementById('wire-a-xor'),
            b_xor: document.getElementById('wire-b-xor'),
            a_and_v: document.getElementById('wire-a-and-v'),
            b_and_v: document.getElementById('wire-b-and-v'),
            a_and_h: document.getElementById('wire-a-and-h'),
            b_and_h: document.getElementById('wire-b-and-h'),
            sum: document.getElementById('wire-sum'),
            carry: document.getElementById('wire-carry')
        };

        function updateSimulation() {
            const valA = parseInt(inputA.dataset.value);
            const valB = parseInt(inputB.dataset.value);

            // Logic Calculation
            const sum = valA ^ valB; // XOR
            const carry = valA & valB; // AND

            // Update Outputs
            outputSum.textContent = sum;
            outputCarry.textContent = carry;

            // Update Wire Colors
            wires.a_xor.classList.toggle('active', valA === 1);
            wires.b_xor.classList.toggle('active', valB === 1);
            wires.a_and_v.classList.toggle('active', valA === 1);
            wires.a_and_h.classList.toggle('active', valA === 1);
            wires.b_and_v.classList.toggle('active', valB === 1);
            wires.b_and_h.classList.toggle('active', valB === 1);
            wires.sum.classList.toggle('active', sum === 1);
            wires.carry.classList.toggle('active', carry === 1);
            
            // Update Gate Colors
            gateXOR.classList.toggle('active', sum === 1);
            gateAND.classList.toggle('active', carry === 1);
            
            // Update Truth Table Highlight
            document.querySelectorAll('.truth-table-row').forEach(row => row.classList.remove('highlighted'));
            document.getElementById(`row-${valA}${valB}`).classList.add('highlighted');
            
            // Update Explanation
            let explanation = `<h4 class="font-bold text-gray-800">Explanation for Inputs A=${valA}, B=${valB}</h4>`;
            explanation += `<p class="text-sm mt-1">1. The inputs A=${valA} and B=${valB} are sent to both the XOR gate and the AND gate.</p>`;
            explanation += `<p class="text-sm mt-1">2. <strong>XOR Gate (Sum):</strong> The XOR gate outputs 1 only if the inputs are different. Since A is ${valA} and B is ${valB}, the inputs are ${valA === valB ? 'the same' : 'different'}, so the SUM is <strong>${sum}</strong>.</p>`;
            explanation += `<p class="text-sm mt-1">3. <strong>AND Gate (Carry):</strong> The AND gate outputs 1 only if both inputs are 1. Since A is ${valA} and B is ${valB}, it is ${valA & valB ? 'true' : 'false'} that both are 1, so the CARRY is <strong>${carry}</strong>.</p>`;
            explanation += `<p class="font-bold text-sm mt-2">Result: The binary addition of ${valA} + ${valB} is ${carry}${sum}, which equals ${valA + valB} in decimal.</p>`;
            explanationPanel.innerHTML = explanation;
        }

        [inputA, inputB].forEach(btn => {
            btn.addEventListener('click', () => {
                const currentValue = parseInt(btn.dataset.value);
                const newValue = 1 - currentValue; // Toggle 0 and 1
                btn.dataset.value = newValue;
                btn.textContent = `${btn.id.includes('a') ? 'A' : 'B'} = ${newValue}`;
                btn.classList.toggle('bg-blue-500', newValue === 1);
                btn.classList.toggle('text-white', newValue === 1);
                btn.classList.toggle('bg-gray-300', newValue === 0);
                btn.classList.toggle('text-gray-800', newValue === 0);
                updateSimulation();
            });
        });
        
        inputA.dataset.initialized = 'true'; // Prevent re-initialization
        updateSimulation(); // Set initial state
    }
    
    // --- Quiz Logic ---
    const startQuizBtn = document.getElementById('start-quiz-btn');
    const quizStartScreen = document.getElementById('quiz-start-screen');
    const quizContainer = document.getElementById('quiz-container');
    const quizQuestionsContainer = document.getElementById('quiz-questions');
    const submitQuizBtn = document.getElementById('submit-quiz-btn');
    const quizResultsScreen = document.getElementById('quiz-results-screen');
    const quizScoreDisplay = document.getElementById('quiz-score-display');
    const quizTimeTakenEl = document.getElementById('quiz-time-taken');
    const reviewAnswersBtn = document.getElementById('review-answers-btn');
    const quizReviewEl = document.getElementById('quiz-review');
    const timerEl = document.getElementById('timer');

    let timerInterval;
    let timeRemaining;
    let activeQuizQuestions = [];
    let userAnswers = [];

    const questionBank = [
        // Gate Identification (20 questions)
        { q: "Which gate outputs 1 only when all its inputs are 1?", options: ["OR", "AND", "XOR", "NAND"], answer: "AND" },
        { q: "Which gate outputs 1 if any of its inputs are 1?", options: ["AND", "NAND", "NOR", "OR"], answer: "OR" },
        { q: "This gate inverts its single input. What is it?", options: ["AND", "NOT", "NOR", "XOR"], answer: "NOT" },
        { q: "The output of this gate is 0 only when all inputs are 1.", options: ["AND", "OR", "NAND", "NOR"], answer: "NAND" },
        { q: "This gate is known as an 'equality detector' because it outputs 1 when its inputs are the same.", options: ["XOR", "OR", "XNOR", "AND"], answer: "XNOR" },
        { q: "The output of a NOR gate is 1 only when...", options: ["All inputs are 1", "All inputs are 0", "Inputs are different", "At least one input is 1"], answer: "All inputs are 0" },
        { q: "This gate is known as a 'difference detector' because it outputs 1 only when its inputs are different.", options: ["XNOR", "AND", "NAND", "XOR"], answer: "XOR" },
        { q: "The Boolean expression $Q = A + B$ represents which gate?", options: ["AND", "OR", "NAND", "XOR"], answer: "OR" },
        { q: "The Boolean expression $Q = \\overline{A \\cdot B}$ represents which gate?", options: ["NOR", "AND", "NAND", "XNOR"], answer: "NAND" },
        { q: "Which gate is represented by the Boolean expression $Q = A \\oplus B$?", options: ["XNOR", "OR", "AND", "XOR"], answer: "XOR" },
        { q: "What is the output of an AND gate with inputs 1 and 0?", options: ["1", "0"], answer: "0" },
        { q: "What is the output of an OR gate with inputs 1 and 0?", options: ["1", "0"], answer: "1" },
        { q: "What is the output of a NOT gate with input 1?", options: ["1", "0"], answer: "0" },
        { q: "What is the output of a NAND gate with inputs 1 and 1?", options: ["1", "0"], answer: "0" },
        { q: "What is the output of a NOR gate with inputs 0 and 0?", options: ["1", "0"], answer: "1" },
        { q: "What is the output of an XOR gate with inputs 1 and 1?", options: ["1", "0"], answer: "0" },
        { q: "What is the output of an XNOR gate with inputs 0 and 0?", options: ["1", "0"], answer: "1" },
        { q: "Which gate is a combination of an OR gate followed by a NOT gate?", options: ["NAND", "XOR", "NOR", "AND"], answer: "NOR" },
        { q: "Which gate is a combination of an AND gate followed by a NOT gate?", options: ["NOR", "XNOR", "NAND", "OR"], answer: "NAND" },
        { q: "If an AND gate has three inputs (A, B, C), what must the inputs be for the output to be 1?", options: ["A=1, B=1, C=0", "A=1, B=1, C=1", "A=0, B=0, C=0", "Any one input is 1"], answer: "A=1, B=1, C=1" },
        
        // Concepts and Applications (45+ questions)
        { q: "What is the primary role of logic gates in a computer system?", options: ["To store data permanently", "To perform logical operations on binary inputs", "To convert analog signals to digital", "To cool the CPU"], answer: "To perform logical operations on binary inputs" },
        { q: "Why are NAND and NOR gates called 'universal gates'?", options: ["They are used in all countries.", "They can be used to create any other type of logic gate.", "They are the only gates with two inputs.", "They were the first gates invented."], answer: "They can be used to create any other type of logic gate." },
        { q: "In a half-adder circuit, which two gates are used?", options: ["AND and OR", "NAND and NOR", "XOR and AND", "XNOR and OR"], answer: "XOR and AND" },
        { q: "In a half-adder, what does the XOR gate calculate?", options: ["The Carry bit", "The Sum bit", "The overflow", "The next input"], answer: "The Sum bit" },
        { q: "In a half-adder, what does the AND gate calculate?", options: ["The Sum bit", "The final result", "The Carry bit", "The difference"], answer: "The Carry bit" },
        { q: "A NOT gate can be constructed using a NAND gate by...", options: ["Connecting the two inputs of the NAND gate together.", "Connecting one input to 1 and using the other as the input.", "It's impossible to make a NOT from a NAND.", "Connecting the NAND output to another NAND gate."], answer: "Connecting the two inputs of the NAND gate together." },
        { q: "What does the dot symbol ($\\cdot$) represent in Boolean algebra?", options: ["OR", "NOT", "XOR", "AND"], answer: "AND" },
        { q: "What does the plus symbol (+) represent in Boolean algebra?", options: ["AND", "OR", "NOR", "XNOR"], answer: "OR" },
        { q: "What does the bar over a variable (e.g., $\\overline{A}$) represent in Boolean algebra?", options: ["AND", "NOT (inversion)", "OR", "A special value"], answer: "NOT (inversion)" },
        { q: "A circuit that can add two bits and a carry bit from a previous stage is called a:", options: ["Half-Adder", "Full-Adder", "Multiplexer", "Decoder"], answer: "Full-Adder" },
        { q: "Logic gates are built from electronic components called:", options: ["Resistors", "Capacitors", "Transistors", "Inductors"], answer: "Transistors" },
        { q: "If the output of a 2-input logic gate is 1 only when its inputs are 0 and 0, what is the gate?", options: ["AND", "NAND", "OR", "NOR"], answer: "NOR" },
        { q: "If the output of a 2-input logic gate is 0 only when its inputs are 1 and 1, what is the gate?", options: ["NAND", "NOR", "AND", "OR"], answer: "NAND" },
        { q: "To build an alarm that sounds (output=1) if a door is open (input A=1) OR a window is open (input B=1), you would use which gate?", options: ["AND", "OR", "NOT", "XNOR"], answer: "OR" },
        { q: "A car's seatbelt warning light (output=1) should turn on if the ignition is on (A=1) AND the seatbelt is NOT buckled (B=0). Which combination of gates would achieve this?", options: ["A AND B", "A OR (NOT B)", "A AND (NOT B)", "A XOR B"], answer: "A AND (NOT B)" },
        { q: "If A=1 and B=0, what is the result of $\\overline{A + B}$?", options: ["1", "0"], answer: "0" },
        { q: "If A=1 and B=1, what is the result of $A \\oplus B$?", options: ["1", "0"], answer: "0" },
        { q: "If A=0 and B=0, what is the result of $\\overline{A \\cdot B}$?", options: ["1", "0"], answer: "1" },
        { q: "The function of logic gates in binary computing is to:", options: ["Store binary numbers.", "Make decisions based on binary inputs.", "Convert binary to decimal.", "Generate random numbers."], answer: "Make decisions based on binary inputs." },
        { q: "Which gate would be most suitable to check if two 1-bit numbers are equal?", options: ["XOR", "XNOR", "AND", "NAND"], answer: "XNOR" },
        { q: "Which gate would be most suitable to check if two 1-bit numbers are different?", options: ["XOR", "XNOR", "OR", "NOR"], answer: "XOR" },
        { q: "What is the truth table output for a 2-input NOR gate?", options: ["0,0,0,1", "0,1,1,1", "1,0,0,0", "1,1,1,0"], answer: "1,0,0,0" },
        { q: "What is the truth table output for a 2-input NAND gate?", options: ["0,0,0,1", "1,1,1,0", "1,0,0,0", "0,1,1,1"], answer: "1,1,1,0" },
        { q: "What is the truth table output for a 2-input XOR gate?", options: ["0,1,1,0", "1,0,0,1", "0,0,0,1", "1,1,1,0"], answer: "0,1,1,0" },
        { q: "What is the truth table output for a 2-input XNOR gate?", options: ["0,1,1,0", "1,0,0,1", "0,0,0,1", "1,1,1,0"], answer: "1,0,0,1" },
        { q: "What is the result of adding $1+1$ in a half-adder?", options: ["Sum=1, Carry=1", "Sum=0, Carry=0", "Sum=1, Carry=0", "Sum=0, Carry=1"], answer: "Sum=0, Carry=1" },
        { q: "What is the result of adding $0+1$ in a half-adder?", options: ["Sum=1, Carry=1", "Sum=0, Carry=0", "Sum=1, Carry=0", "Sum=0, Carry=1"], answer: "Sum=1, Carry=0" },
        { q: "The part of the CPU that performs arithmetic and logic operations is the:", options: ["Control Unit", "Memory Unit", "ALU (Arithmetic Logic Unit)", "Register"], answer: "ALU (Arithmetic Logic Unit)" },
        { q: "An AND gate can be built from which single type of universal gate?", options: ["XOR", "NOT", "NAND", "OR"], answer: "NAND" },
        { q: "An OR gate can be built from which single type of universal gate?", options: ["AND", "XOR", "NOR", "XNOR"], answer: "NOR" },
        { q: "A 3-input AND gate will have how many rows in its truth table?", options: ["3", "4", "6", "8"], answer: "8" },
        { q: "A 3-input OR gate will have an output of 0 in how many rows of its truth table?", options: ["1", "3", "4", "7"], answer: "1" },
        { q: "Which statement is true for a 2-input XOR gate?", options: ["Output is 1 if inputs are the same", "Output is 0 if inputs are the same", "Output is always 1", "Output is always 0"], answer: "Output is 0 if inputs are the same" },
        { q: "A circuit in a car's climate control turns on the AC (output=1) if the temperature is high (A=1) AND the 'AC' button is on (B=1). This is an application of:", options: ["OR gate", "NOT gate", "AND gate", "XOR gate"], answer: "AND gate" },
        { q: "If A=0, what is the output of A AND B?", options: ["Always 0", "Always 1", "Depends on B", "Invalid operation"], answer: "Always 0" },
        { q: "If A=1, what is the output of A OR B?", options: ["Always 0", "Always 1", "Depends on B", "Invalid operation"], answer: "Always 1" },
        { q: "The logic gate is the physical implementation of a:", options: ["Boolean function", "Decimal number", "Computer program", "Memory address"], answer: "Boolean function" },
        { q: "If A is 1, what is $\\overline{A}$?", options: ["1", "0", "-1", "Undefined"], answer: "0" },
        { q: "To get a 1 from a NAND gate, the inputs must be:", options: ["Both 1", "Both 0", "Different", "Not both 1"], answer: "Not both 1" },
        { q: "A half-adder has how many inputs and outputs?", options: ["1 input, 2 outputs", "2 inputs, 1 output", "2 inputs, 2 outputs", "3 inputs, 2 outputs"], answer: "2 inputs, 2 outputs" },
        { q: "What is the primary limitation of a half-adder?", options: ["It cannot add binary numbers.", "It cannot handle a carry-in from a previous addition.", "It is too slow for modern CPUs.", "It uses too many gates."], answer: "It cannot handle a carry-in from a previous addition." },
        { q: "Which Boolean operator is also known as logical conjunction?", options: ["OR", "NOT", "AND", "XOR"], answer: "AND" },
        { q: "Which Boolean operator is also known as logical disjunction?", options: ["OR", "NOT", "AND", "XOR"], answer: "OR" },
        { q: "What is the output of an XNOR gate with inputs 1 and 0?", options: ["1", "0"], answer: "0" },
        { q: "If a circuit needs to output 1 when an even number of its two inputs are 1, which gate should be used?", options: ["XOR", "XNOR", "AND", "OR"], answer: "XNOR" }
    ];

    function startTimer() {
        timerInterval = setInterval(() => {
            timeRemaining--;
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            timerEl.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeRemaining <= 0) {
                clearInterval(timerInterval);
                submitQuiz();
            }
        }, 1000);
    }

    function displayQuestions() {
        quizQuestionsContainer.innerHTML = '';
        activeQuizQuestions.forEach((item, index) => {
            const questionEl = document.createElement('div');
            questionEl.className = 'bg-white p-5 rounded-lg shadow-sm';
            let optionsHtml = item.options.map(option => `<div><label class="quiz-option-label block w-full text-left p-3 my-2 border-2 border-slate-200 rounded-md cursor-pointer hover:bg-slate-100"><input type="radio" name="question${index}" value="${option}" class="hidden"> ${option}</label></div>`).join('');
            questionEl.innerHTML = `<p class="font-semibold text-gray-800">${index + 1}. ${item.q}</p><div class="mt-2">${optionsHtml}</div>`;
            quizQuestionsContainer.appendChild(questionEl);
            MathJax.typesetPromise([questionEl]);
        });

        document.querySelectorAll('.quiz-option-label').forEach(label => {
            label.addEventListener('click', (e) => {
                const input = e.currentTarget.querySelector('input');
                const questionName = input.name;
                document.querySelectorAll(`input[name="${questionName}"]`).forEach(radio => {
                    radio.parentElement.classList.remove('selected');
                });
                e.currentTarget.classList.add('selected');
                input.checked = true;
            });
        });
    }

    function submitQuiz() {
        clearInterval(timerInterval);
        const totalTime = 40 * 60;
        const timeTaken = totalTime - timeRemaining;
        const minutes = Math.floor(timeTaken / 60);
        const seconds = timeTaken % 60;

        let score = 0;
        userAnswers = [];
        activeQuizQuestions.forEach((item, index) => {
            const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
            const userAnswer = selectedOption ? selectedOption.value : null;
            userAnswers.push(userAnswer);
            if (userAnswer === item.answer) {
                score++;
            }
        });

        quizContainer.classList.add('hidden');
        quizResultsScreen.classList.remove('hidden');
        quizScoreDisplay.textContent = `You scored ${score} out of ${activeQuizQuestions.length}`;
        quizTimeTakenEl.textContent = `Time taken: ${minutes} minutes and ${seconds} seconds.`;
    }

    function displayReview() {
        quizReviewEl.innerHTML = '';
        activeQuizQuestions.forEach((item, index) => {
            const userAnswer = userAnswers[index];
            const isCorrect = userAnswer === item.answer;
            const questionEl = document.createElement('div');
            questionEl.className = 'bg-slate-100 p-4 rounded-lg';
            let optionsHtml = item.options.map(option => {
                let labelClass = 'quiz-option-label block w-full text-left p-3 my-2 border-2 rounded-md';
                if (option === item.answer) {
                    labelClass += ' correct';
                } else if (option === userAnswer && !isCorrect) {
                    labelClass += ' incorrect';
                }
                return `<div><label class="${labelClass}">${option}</label></div>`;
            }).join('');
            questionEl.innerHTML = `<p class="font-semibold text-gray-800">${index + 1}. ${item.q}</p><p class="text-sm mt-2">Your answer: <strong class="${isCorrect ? 'text-green-600' : 'text-red-600'}">${userAnswer || "Not answered"}</strong></p>${!isCorrect ? `<p class="text-sm mt-1">Correct answer: <strong class="text-green-700">${item.answer}</strong></p>` : ''}<div class="mt-2">${optionsHtml}</div>`;
            quizReviewEl.appendChild(questionEl);
            MathJax.typesetPromise([questionEl]);
        });
    }

    startQuizBtn.addEventListener('click', () => {
        const shuffled = [...questionBank].sort(() => 0.5 - Math.random());
        activeQuizQuestions = shuffled.slice(0, 60);
        quizStartScreen.classList.add('hidden');
        quizContainer.classList.remove('hidden');
        quizResultsScreen.classList.add('hidden');
        quizReviewEl.classList.add('hidden');
        reviewAnswersBtn.textContent = 'Review Your Answers';
        timeRemaining = 40 * 60;
        timerEl.textContent = "40:00";
        startTimer();
        displayQuestions();
    });

    submitQuizBtn.addEventListener('click', submitQuiz);
    reviewAnswersBtn.addEventListener('click', () => {
        quizReviewEl.classList.toggle('hidden');
        reviewAnswersBtn.textContent = quizReviewEl.classList.contains('hidden') ? 'Review Your Answers' : 'Hide Answers';
        if (!quizReviewEl.classList.contains('hidden')) {
            displayReview();
        }
    });

    // Initial setup
    switchTab('home');
});
</script>

</body>
</html>