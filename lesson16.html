<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B1.1.2 Fundamental Concepts | Mastery Portal</title>

    <!-- Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #f8fafc;
            color: #0f172a;
            margin: 0;
            padding: 0;
        }

        [v-cloak] {
            display: none;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 10px;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes pulse-slow {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.98;
                transform: scale(0.995);
            }
        }

        .animate-pulse-slow {
            animation: pulse-slow 4s infinite ease-in-out;
        }

        .nav-link {
            white-space: nowrap;
            flex-shrink: 0;
        }

        /* Fixed workspace height to ensure horizontal side-by-side works without vertical overlap */
        .fixed-lab-height {
            height: calc(100vh - 16rem);
        }
    </style>
</head>

<body class="bg-[#f8fafc]">
    <div id="app" v-cloak class="flex flex-col h-screen overflow-hidden text-left relative">

        <!-- MAIN HEADER NAVIGATION - RESPONSIVE -->
        <header
            class="h-20 bg-white border-b border-slate-200 px-4 md:px-8 flex flex-row items-center justify-between shrink-0 z-50 shadow-sm fixed top-0 w-full overflow-visible">

            <!-- BRANDING: B1.1.2 + Fundamental Concepts -->
            <div class="flex items-center shrink-0 ml-4 md:ml-12 gap-3 text-left">
                <div
                    class="w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-black shadow-lg text-xs shrink-0">
                    B1.1.2</div>
                <div class="hidden sm:block leading-tight text-left">
                    <h1 class="font-extrabold text-slate-900 text-sm md:text-base tracking-tight">Fundamental Concepts
                    </h1>
                    <p class="text-[9px] text-indigo-500 font-bold uppercase tracking-widest leading-none">Computational
                        Thinking</p>
                </div>
            </div>

            <!-- DESKTOP NAV -->
            <nav class="hidden lg:flex flex-1 justify-center mx-4">
                <div class="flex items-center bg-slate-100 p-1 rounded-2xl gap-1">
                    <button v-for="tab in tabs" :key="tab.id" @click="setActiveTab(tab.id)"
                        :class="['px-5 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 whitespace-nowrap', activeTab === tab.id ? 'bg-white text-indigo-600 shadow-md scale-105' : 'text-slate-500 hover:text-slate-700']">
                        <i :data-lucide="tab.icon" class="w-4 h-4 text-left"></i> {{ tab.label }}
                    </button>
                </div>
            </nav>

            <!-- ACTIONS & MOBILE MENU -->
            <div class="flex items-center gap-2 md:gap-4 shrink-0 text-xs md:text-sm mr-2 md:mr-4">
                <div class="w-[1px] h-6 bg-slate-300 hidden md:block text-left"></div>
                <a href="index.html"
                    class="hidden sm:flex px-4 py-2 rounded-xl font-bold text-slate-700 hover:bg-slate-50 hover:text-indigo-600 transition-all items-center gap-2 group whitespace-nowrap border border-slate-200 lg:border-none">
                    <i data-lucide="arrow-left" class="w-4 h-4 group-hover:-translate-x-1 transition-transform"></i>
                    <span>Back to Curriculum</span>
                </a>

                <!-- Hamburger Trigger -->
                <button @click="isMenuOpen = !isMenuOpen"
                    class="lg:hidden p-2.5 bg-slate-100 rounded-xl text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all">
                    <i :data-lucide="isMenuOpen ? 'x' : 'menu'" class="w-6 h-6 text-left"></i>
                </button>
            </div>

            <!-- MOBILE DROPDOWN -->
            <transition enter-active-class="transition duration-200 ease-out"
                enter-from-class="transform -translate-y-4 opacity-0"
                enter-to-class="transform translate-y-0 opacity-100"
                leave-active-class="transition duration-150 ease-in"
                leave-from-class="transform translate-y-0 opacity-100"
                leave-to-class="transform -translate-y-4 opacity-0">
                <div v-if="isMenuOpen"
                    class="absolute top-20 left-0 w-full bg-white border-b border-slate-200 shadow-2xl p-4 flex flex-col gap-2 z-40 lg:hidden text-left">
                    <button v-for="tab in tabs" :key="tab.id" @click="setActiveTab(tab.id); isMenuOpen = false;"
                        :class="['w-full p-4 rounded-2xl text-left font-bold flex items-center gap-4 transition-all', activeTab === tab.id ? 'bg-indigo-600 text-white shadow-lg' : 'bg-slate-50 text-slate-600 hover:bg-slate-100']">
                        <i :data-lucide="tab.icon" class="w-5 h-5"></i> {{ tab.label }}
                    </button>
                    <a href="index.html"
                        class="w-full p-4 rounded-2xl text-left font-bold flex items-center gap-4 bg-slate-900 text-white mt-2">
                        <i data-lucide="arrow-left" class="w-5 h-5 text-left"></i> Back to Curriculum
                    </a>
                </div>
            </transition>
        </header>

        <!-- MAIN CONTENT AREA - Optimized for vertical fit -->
        <main id="main-content-area" class="flex-grow overflow-y-auto pt-20 custom-scrollbar bg-[#f8fafc]">
            <div class="max-w-7xl mx-auto p-4 md:p-8 lg:p-10 pb-40 text-left">

                <!-- TAB: OVERVIEW (OPTIMIZED SPACE) -->
                <section v-if="activeTab === 'overview'" class="animate-in pt-4 text-left">
                    <div class="flex flex-col lg:flex-row gap-10 lg:gap-16 items-start mb-16 pt-4 text-left">
                        <div class="lg:w-3/5 text-left text-left">
                            <div
                                class="inline-flex items-center gap-2 bg-indigo-50 text-indigo-600 text-[10px] font-black px-4 py-1.5 rounded-full mb-6 uppercase tracking-[0.2em] text-left">
                                <i data-lucide="brain-circuit" class="w-3.5 h-3.5"></i> Cognitive Framework
                            </div>
                            <h2
                                class="text-3xl md:text-5xl font-black text-slate-900 mb-6 leading-tight tracking-tighter text-left">
                                The Four Pillars of <br />
                                <span class="text-indigo-600">Computational Thought.</span>
                            </h2>
                            <p
                                class="text-slate-600 text-sm md:text-base lg:text-lg leading-relaxed mb-8 max-w-2xl font-medium text-left">
                                Computational thinking is a toolkit of mental techniques used to formulate problems so
                                their solutions can be represented computationally. It is the vital bridge between human
                                curiosity and logical execution.
                            </p>

                            <p class="text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-4 text-left">
                                Core Methodology</p>

                            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-10 text-left">
                                <div v-for="idea in coreIdeas" :key="idea.name"
                                    class="bg-white p-5 rounded-3xl border border-slate-100 shadow-sm flex flex-col items-center text-center gap-3 group hover:border-indigo-200 transition-all text-center">
                                    <div
                                        class="w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-indigo-600 group-hover:scale-110 transition-transform shadow-inner text-center">
                                        <i :data-lucide="idea.icon" class="w-5 h-5"></i>
                                    </div>
                                    <span
                                        class="text-[9px] md:text-[10px] font-black text-slate-800 leading-tight uppercase tracking-widest text-center">{{
                                        idea.name }}</span>
                                </div>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-4 justify-start text-left">
                                <button @click="setActiveTab('specifier')"
                                    class="bg-slate-900 text-white px-8 py-3.5 rounded-2xl font-extrabold text-sm hover:bg-indigo-600 transition-all shadow-xl flex items-center justify-center gap-3 active:scale-95 text-left text-left">
                                    Launch Concept Lab <i data-lucide="chevron-right" class="w-4 h-4 text-left"></i>
                                </button>
                                <button @click="setActiveTab('pillars')"
                                    class="bg-white border-2 border-slate-100 text-slate-700 px-8 py-3.5 rounded-2xl font-extrabold text-sm hover:bg-slate-50 transition-all active:scale-95 text-left text-left text-left">
                                    Deep Dive Pillars
                                </button>
                            </div>
                        </div>
                        <div class="lg:w-2/5 w-full">
                            <div
                                class="bg-white p-8 rounded-[3rem] border border-slate-100 shadow-2xl relative overflow-hidden text-left text-left">
                                <h4
                                    class="font-black text-slate-400 uppercase text-[10px] tracking-[0.2em] mb-8 border-b pb-4 text-center text-left text-left">
                                    Cognitive Journey</h4>
                                <div class="space-y-6 text-left">
                                    <div v-for="(step, i) in roadmap" :key="step.label"
                                        class="flex items-center gap-4 group text-left">
                                        <div
                                            class="w-10 h-10 rounded-xl bg-slate-50 text-indigo-600 flex items-center justify-center text-sm font-black group-hover:bg-indigo-600 group-hover:text-white transition-colors shadow-sm text-center">
                                            <i :data-lucide="step.icon" class="w-4 h-4 text-center"></i>
                                        </div>
                                        <div class="text-left text-left">
                                            <p
                                                class="text-[9px] font-black text-slate-400 uppercase tracking-tighter mb-1 text-left text-left">
                                                Concept 0{{i+1}}</p>
                                            <p
                                                class="text-slate-700 font-bold text-left text-sm md:text-base leading-none text-left">
                                                {{ step.label }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TAB: CONCEPT LAB (15 SCENARIOS - FIXED HORIZONTAL CONSOLE) -->
                <section v-if="activeTab === 'specifier'" class="animate-in pt-4 text-left flex flex-col">
                    <div class="mb-4 bg-indigo-50 border-l-4 border-indigo-600 p-4 rounded-r-xl text-left text-left">
                        <p class="text-indigo-900 text-xs font-bold leading-relaxed text-left">
                            <span class="uppercase font-black tracking-widest block mb-1 text-left">Interactive Concept
                                Lab:</span>
                            Computational thinking is applied across every discipline. Select a scenario from the
                            registry and deconstruct it by adding cognitive modules from the palette to see logic in
                            action.
                        </p>
                    </div>

                    <div class="flex flex-col xl:flex-row gap-6 items-stretch fixed-lab-height text-left">
                        <!-- Col 1: Case Registry -->
                        <div
                            class="xl:w-1/4 bg-white p-6 rounded-[2.5rem] border border-slate-200 shadow-sm flex flex-col text-left text-left">
                            <h4 class="text-[10px] font-black text-slate-400 uppercase mb-4 tracking-widest text-left">
                                1. Scenario Registry (15)</h4>
                            <div class="relative mb-6 text-left">
                                <i data-lucide="search"
                                    class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"></i>
                                <input type="text" v-model="searchQuery" placeholder="Filter Studies..."
                                    class="w-full bg-slate-50 border border-slate-100 rounded-xl py-2 pl-10 pr-4 text-xs md:text-sm outline-none focus:ring-1 focus:ring-indigo-500">
                            </div>
                            <div
                                class="flex-grow overflow-y-auto pr-2 custom-scrollbar space-y-1.5 text-left text-left text-left">
                                <button v-for="s in filteredScenarios" :key="s.id" @click="selectScenario(s)"
                                    :class="['w-full text-left p-3.5 rounded-2xl flex items-center gap-4 transition-all', selectedScenario.id === s.id ? 'bg-indigo-600 text-white shadow-lg' : 'hover:bg-slate-50 text-slate-500']">
                                    <div
                                        :class="['w-8 h-8 rounded-lg flex items-center justify-center shrink-0 text-left', selectedScenario.id === s.id ? 'bg-white/20' : 'bg-slate-100']">
                                        <i :data-lucide="s.icon" class="w-4 h-4 text-left"></i>
                                    </div>
                                    <span class="font-bold text-xs truncate text-left text-left">{{ s.title }}</span>
                                </button>
                            </div>
                        </div>

                        <!-- Col 2: Cognitive Palette -->
                        <div
                            class="xl:w-1/4 bg-white p-6 rounded-[2.5rem] border border-slate-200 shadow-sm flex flex-col text-left text-left">
                            <h4 class="text-[10px] font-black text-slate-400 uppercase mb-4 tracking-widest text-left">
                                2. Cognitive Palette</h4>
                            <div class="flex-grow overflow-y-auto pr-2 custom-scrollbar space-y-3 text-left">
                                <button v-for="(val, key) in selectedScenario.components" :key="key"
                                    @click="addComponent(key)" :disabled="builtSpec[key]"
                                    :class="['w-full flex items-center justify-between p-4 rounded-2xl font-bold transition-all border text-left text-xs text-left text-left', builtSpec[key] ? 'bg-slate-50 text-slate-400 opacity-50 cursor-default' : 'bg-white text-slate-700 hover:border-indigo-600']">
                                    <span class="text-left text-left text-left">{{ val.type }}</span>
                                    <i :data-lucide="builtSpec[key] ? 'check-circle-2' : 'plus'"
                                        class="w-4 h-4 text-left text-left"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Col 3: Terminal Session -->
                        <div
                            class="flex-grow bg-[#0f172a] rounded-[2.5rem] p-10 shadow-2xl flex flex-col border-[6px] border-white text-slate-300 relative text-left">
                            <div
                                class="flex justify-between items-start mb-10 border-b border-white/10 pb-6 text-left text-left">
                                <div class="text-left text-left">
                                    <h3
                                        class="text-indigo-400 font-mono text-[10px] font-bold uppercase tracking-widest text-left">
                                        Interactive_Lab_Ready</h3>
                                    <h2
                                        class="text-white text-xl md:text-3xl font-black mt-1 leading-tight tracking-tight uppercase text-left text-left">
                                        {{ selectedScenario.title }}</h2>
                                </div>
                                <div class="text-right text-right shrink-0">
                                    <p
                                        class="text-[10px] font-mono text-slate-500 uppercase tracking-widest text-left text-left">
                                        Context</p>
                                    <p
                                        class="text-indigo-300 font-bold text-xs md:text-sm text-right text-left text-left">
                                        {{ selectedScenario.category }}</p>
                                </div>
                            </div>
                            <div
                                class="flex-grow font-mono space-y-10 overflow-y-auto custom-scrollbar pr-6 text-sm text-left">
                                <div v-if="Object.keys(builtSpec).length === 0"
                                    class="h-full flex flex-col items-center justify-center opacity-30 text-white py-24 text-center">
                                    <i data-lucide="terminal"
                                        class="w-12 h-12 mb-6 mx-auto text-center text-center text-center"></i>
                                    <p class="uppercase tracking-widest font-black text-xs text-center text-center">
                                        Select cognitive concepts to deconstruct problem</p>
                                </div>
                                <div v-for="(value, key) in builtSpec" :key="key"
                                    class="animate-in text-left text-left">
                                    <div class="flex items-center gap-4 mb-4 text-left">
                                        <span class="text-indigo-500 font-black text-xs uppercase text-left">[{{
                                            key.toUpperCase() }}]</span>
                                        <div class="h-[1px] flex-grow bg-white/5"></div>
                                    </div>
                                    <p
                                        class="text-slate-300 leading-relaxed pl-6 border-l border-indigo-500/40 text-sm md:text-lg font-light text-left text-left">
                                        {{ value.text }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TAB: 6 PILLARS (4 Fundamental Concepts for B1.1.2) -->
                <section v-if="activeTab === 'pillars'" class="animate-in text-left pt-6 text-left">
                    <div class="mb-10 border-l-4 border-indigo-600 pl-6 text-left">
                        <h2 class="text-3xl md:text-4xl font-black text-slate-900 mb-1 text-left">The Fundamental
                            Pillars of CT</h2>
                        <p
                            class="text-slate-500 font-bold max-w-4xl text-sm md:text-lg leading-relaxed text-left text-left">
                            The essential cognitive techniques used to solve problems as a computer scientist. These
                            techniques are fundamental literacies equivalent to reading and writing.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 pb-20 text-xs md:text-sm text-left text-left">
                        <div v-for="p in pillars" :key="p.t"
                            class="bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm hover:shadow-xl transition-all flex flex-col group text-left">
                            <div class="flex items-center gap-5 mb-5 text-left text-left text-left">
                                <div
                                    class="w-14 h-14 rounded-2xl flex items-center justify-center bg-slate-50 text-indigo-600 group-hover:bg-indigo-600 group-hover:text-white transition-all shadow-sm">
                                    <i :data-lucide="p.icon" class="w-7 h-7 text-left text-left"></i>
                                </div>
                                <h4 class="font-extrabold text-slate-900 text-xl uppercase tracking-tight text-left">{{
                                    p.t }}</h4>
                            </div>
                            <p
                                class="text-slate-600 text-sm md:text-base leading-relaxed mb-6 text-left font-medium text-left">
                                {{ p.d }}</p>

                            <div
                                class="p-5 bg-indigo-50 rounded-2xl mb-6 border border-indigo-100 text-left shadow-inner text-left text-left">
                                <span
                                    class="text-[10px] font-black text-indigo-600 uppercase block mb-1.5 text-left tracking-widest">Academic
                                    Objective</span>
                                <p class="font-bold text-slate-800 italic text-[16px] leading-snug text-left text-left">
                                    "{{ p.q }}"</p>
                            </div>
                            <div
                                class="space-y-4 pt-4 border-t border-slate-50 text-[14px] mt-auto text-left text-left">
                                <div class="text-left text-left text-left"><span
                                        class="text-rose-500 font-black uppercase tracking-widest text-[11px] block mb-1 text-left text-left">Surface
                                        Level (Fail)</span>
                                    <p class="text-slate-400 line-through text-sm italic text-left">"{{ p.bad }}"</p>
                                </div>
                                <div class="text-left text-left text-left text-left"><span
                                        class="text-emerald-600 font-black uppercase tracking-widest text-[11px] block mb-1 text-left">Computational
                                        Insight (Pass)</span>
                                    <p class="text-slate-800 font-bold text-sm text-left text-left">"{{ p.good }}"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TAB: QUIZ -->
                <section v-if="activeTab === 'quiz'" class="animate-in pt-10 text-left">
                    <div v-if="!isQuizActive"
                        class="max-w-2xl mx-auto text-center py-20 px-6 bg-white border border-slate-200 rounded-[3rem] shadow-sm mt-10 text-center text-center text-center">
                        <div
                            class="w-24 h-24 bg-indigo-50 rounded-full shadow-inner flex items-center justify-center mx-auto mb-10 text-indigo-600 text-center text-center text-center">
                            <i data-lucide="graduation-cap"
                                class="w-12 h-12 text-center text-center text-center text-center text-center text-center"></i>
                        </div>
                        <h2
                            class="text-3xl font-black text-slate-900 mb-6 tracking-tight text-center text-center text-center">
                            Competency Assessment</h2>
                        <p
                            class="text-slate-500 text-sm md:text-base mb-12 max-w-lg mx-auto leading-relaxed font-medium text-center text-center text-center">
                            Prove your mastery of B1.1.2 Fundamental Concepts. Session selects 40 random questions from
                            our database.</p>
                        <div
                            class="flex gap-12 mb-8 border-b border-slate-100 pb-8 w-full justify-center text-center text-center text-center">
                            <div class="text-center text-center text-center text-center text-center">
                                <p
                                    class="text-xl font-black text-indigo-600 text-center text-center text-center text-center">
                                    40</p>
                                <p
                                    class="text-[10px] font-black text-slate-400 uppercase tracking-widest text-center text-center text-center text-center">
                                    Questions</p>
                            </div>
                            <div
                                class="text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center">
                                <p
                                    class="text-xl font-black text-indigo-600 text-center text-center text-center text-center">
                                    20</p>
                                <p
                                    class="text-[10px] font-black text-slate-400 uppercase tracking-widest text-center text-center text-center text-center text-center">
                                    Minutes</p>
                            </div>
                        </div>
                        <button @click="startQuiz"
                            class="bg-indigo-600 text-white px-12 py-5 rounded-2xl font-black shadow-xl hover:bg-indigo-50 flex items-center gap-3 mx-auto active:scale-95 transition-all text-xs uppercase tracking-widest text-center text-center text-center text-center text-center text-center"><i
                                data-lucide="zap" class="w-4 h-4 fill-white text-center"></i> Launch Quiz
                            Session</button>
                    </div>

                    <div v-else class="max-w-4xl mx-auto pb-40 text-left text-left text-left text-left text-left">

                        <!-- STICKY QUIZ HEADER - LOCKED AT TOP-0 RELATIVE TO CONTAINER (DOCKS UNDER MAIN HEADER) -->
                        <div
                            class="sticky top-0 bg-[#f8fafc] z-40 py-6 border-b border-slate-200 mb-12 transition-all text-left text-left text-left text-left">
                            <div
                                class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 px-4 text-left text-left text-left text-left text-left text-left">
                                <div class="flex items-center gap-4 text-left text-left text-left">
                                    <div
                                        class="w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-bold shadow-lg shrink-0 text-lg text-center text-center text-center text-center">
                                        B1</div>
                                    <div class="text-left text-left text-left text-left text-left text-left text-left">
                                        <h2
                                            class="text-sm md:text-base font-black text-slate-900 tracking-widest uppercase flex items-center gap-3 text-left text-left text-left text-left text-left">
                                            <i data-lucide="clock"
                                                class="w-4 h-4 text-indigo-600 text-left text-left"></i> B1.1.2 Quiz
                                            Session
                                        </h2>
                                        <div
                                            class="flex flex-wrap items-center gap-4 mt-1 text-left text-left text-left text-left text-left text-left">
                                            <div
                                                :class="['w-2.5 h-2.5 rounded-full text-left text-left', quizSubmitted ? 'bg-slate-300' : 'bg-emerald-500 animate-pulse']">
                                            </div>
                                            <p
                                                class="text-[10px] font-black text-indigo-600 uppercase bg-indigo-50 px-3 py-1 rounded-full border border-indigo-100 leading-none">
                                                Status: {{ quizSubmitted ? 'Evaluated' : 'In Progress' }}</p>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="flex items-center gap-8 w-full md:w-auto shrink-0 text-left text-left text-left text-left text-left">
                                    <div v-if="!quizSubmitted"
                                        class="bg-white px-6 py-3 rounded-2xl border border-slate-200 shadow-sm flex items-center gap-3 text-left text-left text-left text-left text-left text-left">
                                        <i data-lucide="timer"
                                            :class="['w-4 h-4 text-left text-left text-left text-left text-left', timeLeft < 120 ? 'text-rose-500 animate-pulse' : 'text-slate-400']"></i>
                                        <span
                                            class="text-lg font-black font-mono text-slate-700 text-left text-left text-left text-left text-left">{{
                                            formatTime(timeLeft) }}</span>
                                    </div>
                                    <div v-if="quizSubmitted"
                                        class="bg-white px-6 py-3 rounded-2xl border border-slate-200 shadow-xl flex items-center gap-4 animate-in text-left text-left text-left text-left text-left">
                                        <div class="text-right text-left text-left text-left">
                                            <p
                                                class="text-[9px] font-black text-slate-400 uppercase leading-none mb-1 text-left text-left text-left">
                                                Score</p>
                                            <p
                                                :class="['text-xl font-black text-left text-left text-left text-left', score >= 32 ? 'text-emerald-500' : 'text-rose-500']">
                                                {{ score }} / 40</p>
                                        </div>
                                        <button @click="startQuiz" title="Retake Quiz"
                                            class="p-2 bg-indigo-600 text-white rounded-xl shadow-lg text-left text-left text-left text-left text-left text-left text-left text-left"><i
                                                data-lucide="refresh-cw"
                                                class="w-4 h-4 text-left text-left text-left text-left text-left"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-10 px-4 text-left text-left">
                            <div v-for="(q, idx) in quizQuestions" :key="idx"
                                :class="['bg-white p-8 md:p-10 rounded-[3rem] border transition-all text-left text-left text-left text-left', quizSubmitted ? (userAnswers[idx] === q.correct ? 'border-emerald-200 bg-emerald-50/10' : 'border-rose-200 bg-rose-50/10') : 'border-slate-200 shadow-sm']">
                                <h4
                                    class="font-bold text-slate-800 text-lg mb-8 flex gap-4 text-left text-left text-left text-left text-left">
                                    <span
                                        class="w-12 h-12 rounded-xl bg-slate-900 text-white flex items-center justify-center shrink-0 text-left text-left text-left text-left text-left text-left">Q{{idx
                                        + 1}}</span>
                                    <span class="pt-2 text-left">{{ q.q }}</span>
                                </h4>
                                <div
                                    class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left text-left text-left text-left text-left">
                                    <button v-for="(opt, oIdx) in q.options" :key="oIdx"
                                        @click="handleAnswerSelect(idx, oIdx)" :disabled="quizSubmitted"
                                        :class="getOptionClass(idx, oIdx)">
                                        <span
                                            class="flex-grow text-left text-left text-left text-left text-left text-left">{{
                                            opt }}</span>
                                        <i v-if="quizSubmitted && oIdx === q.correct" data-lucide="check-circle-2"
                                            class="w-5 h-5 text-white text-left text-left text-left text-left text-left text-left"></i>
                                        <i v-if="quizSubmitted && userAnswers[idx] === oIdx && userAnswers[idx] !== q.correct"
                                            data-lucide="x-circle"
                                            class="w-5 h-5 text-white text-left text-left text-left text-left text-left text-left"></i>
                                    </button>
                                </div>
                                <div v-if="quizSubmitted"
                                    class="mt-8 p-6 bg-slate-50 rounded-2xl border-l-8 border-indigo-600 animate-in text-left text-left text-left text-left text-left">
                                    <div
                                        class="flex items-center gap-2 mb-2 text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                        <i data-lucide="info"
                                            class="w-4 h-4 text-indigo-600 text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left"></i><span
                                            class="text-[10px] font-black uppercase text-indigo-600 tracking-widest text-left text-left text-left text-left text-left text-left text-left text-left">Technical
                                            Insight</span>
                                    </div>
                                    <p
                                        class="text-sm text-slate-600 font-medium italic leading-relaxed text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                        "{{ q.exp }}"</p>
                                </div>
                            </div>
                        </div>

                        <div v-if="!quizSubmitted"
                            class="mt-20 text-center text-center text-center text-center text-center text-center">
                            <button @click="submitQuiz" :disabled="answeredCount < 40"
                                :class="['px-20 py-8 rounded-[2rem] font-black uppercase tracking-widest shadow-2xl transition-all active:scale-95 text-sm md:text-base text-center text-center text-center text-center text-center', answeredCount === 40 ? 'bg-slate-900 text-white hover:bg-indigo-600' : 'bg-slate-100 text-slate-300 cursor-not-allowed']">
                                Finalize Quiz & Grade
                            </button>
                        </div>
                    </div>
                </section>

                <!-- TAB: RESOURCES -->
                <section v-if="activeTab === 'resources'" class="animate-in pt-10 text-left text-left text-left">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 text-left text-left text-left">
                        <div class="space-y-8 text-left text-left text-left text-left text-left">
                            <div
                                class="flex items-center justify-center md:justify-start gap-3 mb-2 text-left text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="play-circle"
                                    class="w-6 h-6 text-indigo-600 text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h3
                                    class="font-bold text-slate-900 uppercase text-xs tracking-widest text-left text-left text-left text-left text-left text-left">
                                    Tutorials</h3>
                            </div>
                            <a v-for="v in videoResources" :key="v.title" :href="v.url" target="_blank" rel="noreferrer"
                                class="block bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 shadow-sm transition-all group text-left text-left text-left text-left">
                                <i data-lucide="youtube"
                                    class="w-8 h-8 text-red-500 mb-4 text-left text-left text-left text-left"></i>
                                <h4
                                    class="font-bold text-slate-800 mb-2 group-hover:text-indigo-600 leading-tight text-left text-left text-left text-left">
                                    {{ v.title }}</h4>
                                <p
                                    class="text-xs text-slate-400 font-black uppercase tracking-tight text-left text-left text-left text-left text-left">
                                    {{ v.source }} â€¢ {{ v.duration }}</p>
                            </a>
                        </div>
                        <div class="space-y-8 text-left text-left text-left text-left text-left">
                            <div
                                class="flex items-center justify-center md:justify-start gap-3 mb-2 text-left text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="monitor"
                                    class="w-6 h-6 text-indigo-600 text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h3
                                    class="font-bold text-slate-900 uppercase text-xs tracking-widest text-left text-left text-left text-left text-left text-left">
                                    Articles</h3>
                            </div>
                            <a v-for="a in articleResources" :key="a.title" :href="a.url" target="_blank"
                                rel="noreferrer"
                                class="block bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 shadow-sm transition-all group text-left text-left text-left text-left">
                                <i data-lucide="globe"
                                    class="w-8 h-8 text-blue-500 mb-4 text-left text-left text-left text-left text-left"></i>
                                <h4
                                    class="font-bold text-slate-800 mb-2 group-hover:text-indigo-600 leading-tight text-left text-left text-left text-left text-left">
                                    {{ a.title }}</h4>
                                <p
                                    class="text-xs text-slate-400 font-black uppercase tracking-tight text-left text-left text-left text-left text-left text-left text-left">
                                    {{ a.type }}</p>
                            </a>
                        </div>
                        <div class="space-y-8 text-left text-left text-left text-left text-left">
                            <div
                                class="flex items-center justify-center md:justify-start gap-3 mb-2 text-left text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="book-marked"
                                    class="w-6 h-6 text-indigo-600 text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h3
                                    class="font-bold text-slate-900 uppercase text-xs tracking-widest text-left text-left text-left text-left text-left text-left">
                                    Textbooks</h3>
                            </div>
                            <a href="https://www.hoddereducation.com" target="_blank" rel="noreferrer"
                                class="block bg-indigo-600 p-8 rounded-[2.5rem] text-white shadow-xl hover:scale-[1.02] transition-all relative overflow-hidden text-left text-left text-left text-left text-left">
                                <i data-lucide="book-open"
                                    class="absolute top-0 right-0 p-6 w-20 h-20 opacity-10 text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h4 class="text-lg font-black mb-4 text-left text-left text-left text-left text-left">
                                    Hodder Education</h4>
                                <p
                                    class="text-indigo-100 text-sm leading-relaxed mb-6 italic font-medium text-left text-left text-left text-left text-left text-left text-left">
                                    "A problem specification is the bridge between human needs and logic."</p>
                                <span
                                    class="text-[10px] font-black uppercase block border-t border-white/20 pt-4 text-left text-left text-left text-left text-left text-left text-left">Page
                                    1: Defining CT Fundamentals</span>
                            </a>
                            <a href="https://global.oup.com" target="_blank" rel="noreferrer"
                                class="block bg-slate-900 p-8 rounded-[2.5rem] text-white shadow-xl hover:scale-[1.02] transition-all border border-slate-800 relative overflow-hidden text-left text-left text-left text-left text-left">
                                <i data-lucide="book-open"
                                    class="absolute top-0 right-0 p-6 w-20 h-20 opacity-10 text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h4
                                    class="text-lg font-black mb-4 text-left text-left text-left text-left text-left text-left text-left">
                                    Oxford Reference</h4>
                                <p
                                    class="text-slate-400 leading-relaxed mb-10 italic font-medium text-slate-400 text-sm text-left text-left text-left text-left text-left text-left text-left text-left">
                                    "Systems architecture starts with precise decomposition."</p>
                                <span
                                    class="text-[10px] font-black uppercase block border-t border-white/20 pt-4 text-left text-left text-left text-left text-left text-left text-left text-left">Page
                                    182: Abstraction Logic</span>
                            </a>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- FIXED FOOTER -->
        <footer
            class="fixed bottom-0 left-0 w-full bg-white py-3 border-t border-slate-200 text-center text-sm text-slate-500 z-50 text-center text-center text-center text-center text-center text-center text-center">
            <div
                class="container mx-auto px-6 flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-4 text-center">
                <div
                    class="flex items-center space-x-4 text-center text-center text-center text-center text-center text-center text-center">
                    <a href="https://www.linkedin.com/in/emmayeboah360/"
                        class="text-blue-600 hover:scale-125 transition-transform text-center text-center text-center text-center text-center text-center text-center"
                        target="_blank" rel="noreferrer">
                        <svg class="h-6 w-6 text-center text-center text-center text-center text-center text-center text-center"
                            viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.762s.784-1.762 1.75-1.762 1.75.79 1.75 1.762-.784 1.762-1.75 1.762zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                        </svg>
                    </a>
                    <a href="mailto:yemmanuel308@gmail.com"
                        class="text-rose-600 hover:scale-125 transition-transform text-center text-center text-center text-center text-center text-center text-center">
                        <svg class="h-6 w-6 text-center text-center text-center text-center text-center text-center text-center"
                            viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 12.713l-11.75 6.287 11.75 5.5zM23.75 18.995l-11.75-6.287v11.748zM12 11.287l-12-6.287v1.868l12 6.287l12-6.287v-1.868z" />
                        </svg>
                    </a>
                </div>
                <p
                    class="pl-4 font-black uppercase tracking-[0.25em] text-[10px] text-center text-center text-center text-center text-center text-center text-center">
                    &copy; 2025 Emmanuel Yeboah. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, nextTick } = Vue;

        createApp({
            setup() {
                const activeTab = ref('overview');
                const searchQuery = ref('');
                const builtSpec = ref({});
                const isQuizActive = ref(false);
                const quizSubmitted = ref(false);
                const timeLeft = ref(1200);
                const userAnswers = ref({});
                const timerInterval = ref(null);
                const isMenuOpen = ref(false);

                const tabs = [
                    { id: 'overview', label: 'Overview', icon: 'home' },
                    { id: 'specifier', label: 'Concept Lab', icon: 'settings' },
                    { id: 'pillars', label: '4 Pillars', icon: 'diamond' },
                    { id: 'resources', label: 'Resources', icon: 'library' },
                    { id: 'quiz', label: 'Quiz', icon: 'graduation-cap' }
                ];

                const coreIdeas = [
                    { name: 'Decomposition', icon: 'trash-2' },
                    { name: 'Pattern recognition', icon: 'search-code' },
                    { name: 'Abstraction', icon: 'boxes' },
                    { name: 'Algorithmic design', icon: 'workflow' }
                ];

                const roadmap = [
                    { label: "Decomposition: Break Down", icon: "trash-2" },
                    { label: "Patterns: Spot Trends", icon: "search-code" },
                    { label: "Abstraction: Filter Detail", icon: "boxes" },
                    { label: "Algorithms: Step-by-Step", icon: "workflow" }
                ];

                // UPDATED: 15 TECHNICAL SCENARIOS
                const SCENARIOS = [
                    { id: 'S1', title: 'Hospital Management', category: 'Healthcare', icon: 'heart-pulse', components: { decomposition: { type: "Decomposition", text: "Break system into units: Triage, Surgery, Bed Allocation, and Staff Scheduling." }, patterns: { type: "Pattern Recognition", text: "Identify peak admission trends (e.g., trauma cases peak on weekends between 8 PM and 2 AM)." }, abstraction: { type: "Abstraction", text: "Focus on staff certifications and bed availability; ignore wall colors or lunch menus." }, algorithms: { type: "Algorithmic Design", text: "Create a triage logic sequence to prioritize patients based on vitals and proximity." } } },
                    { id: 'S2', title: 'Game AI Behavior', category: 'Game Design', icon: 'zap', components: { decomposition: { type: "Decomposition", text: "Break NPC behavior into Perception (Sensing), Decision-Making (Behavior Tree), and Action (Movement)." }, patterns: { type: "Pattern Recognition", text: "Analyze player paths to identify high-traffic zones for guard placement." }, abstraction: { type: "Abstraction", text: "Model players as simple X,Y,Z coordinate bounding boxes for collision checks." }, algorithms: { type: "Algorithmic Design", text: "Implement A* (A-Star) Pathfinding to find the most efficient route avoiding obstacles." } } },
                    { id: 'S3', title: 'Autonomous Car', category: 'Automotive', icon: 'car', components: { decomposition: { type: "Decomposition", text: "Divide into Computer Vision, Path Planning, Braking Control, and Diagnostics." }, patterns: { type: "Pattern Recognition", text: "Recognize stop signs by identifying red octagonal shapes in the visual feed." }, abstraction: { type: "Abstraction", text: "Treat pedestrians as heat-mapped probability fields to anticipate movement." }, algorithms: { type: "Algorithmic Design", text: "Sequence for 'Emergency Stop': Check distance < limit, apply brakes, activate hazard lights." } } },
                    { id: 'S4', title: 'E-Commerce Engine', category: 'Retail', icon: 'shopping-bag', components: { decomposition: { type: "Decomposition", text: "Split into Inventory, User Auth, Cart Management, and Payment Processing." }, patterns: { type: "Pattern Recognition", text: "Identify that users who buy cameras often buy memory cards (Collaborative Filtering)." }, abstraction: { type: "Abstraction", text: "Represent credit cards as tokenized strings for security, ignoring physical appearance." }, algorithms: { type: "Algorithmic Design", text: "A sorting algorithm to display results by price, rating, or relevancy." } } },
                    { id: 'S5', title: 'Smart Grid', category: 'Energy', icon: 'zap', components: { decomposition: { type: "Decomposition", text: "Break grid into Generation, Storage, Residential Demand, and Industrial Demand." }, patterns: { type: "Pattern Recognition", text: "Identify seasonal power spikes based on external temperature data (HVAC demand)." }, abstraction: { type: "Abstraction", text: "Treat houses as energy consumption nodes, ignoring individual appliance details." }, algorithms: { type: "Algorithmic Design", text: "Logic to discharge batteries during 6 PM peak if solar input is zero." } } },
                    { id: 'S6', title: 'Weather Forecaster', category: 'Meteorology', icon: 'waves', components: { decomposition: { type: "Decomposition", text: "Divide atmosphere into a 3D grid of cells (Pressure, Humidity, Temperature)." }, patterns: { type: "Pattern Recognition", text: "Detect cyclonic rotation patterns in satellite imagery datasets." }, abstraction: { type: "Abstraction", text: "Ignore individual air molecules; model the air as a continuous fluid volume." }, algorithms: { type: "Algorithmic Design", text: "Differential equation solvers to predict moisture movement over 72 hours." } } },
                    { id: 'S7', title: 'Cyber Intrusion Shield', category: 'Security', icon: 'shield', components: { decomposition: { type: "Decomposition", text: "Split traffic analysis into Packet Headers, Data Payload, and Port Activity." }, patterns: { type: "Pattern Recognition", text: "Identify 'Signature' patterns of known malware variants in data streams." }, abstraction: { type: "Abstraction", text: "Focus on port numbers and source IPs; ignore the valid content of the packets." }, algorithms: { type: "Algorithmic Design", text: "Decision tree to 'Isolate IP' if 3 suspicious patterns occur in 10ms." } } },
                    { id: 'S8', title: 'Smart Bin Logistics', category: 'Sanitation', icon: 'trash-2', components: { decomposition: { type: "Decomposition", text: "Break city into zones, truck fleet, and individual sensor-monitored bins." }, patterns: { type: "Pattern Recognition", text: "Recognize that bins near parks fill up faster on sunny Saturdays." }, abstraction: { type: "Abstraction", text: "Binary 'Full/Empty' states for bins; ignore the specific type of trash inside." }, algorithms: { type: "Algorithmic Design", text: "Traveling Salesman Algorithm to find the shortest pickup route for full bins." } } },
                    { id: 'S9', title: 'Drone Search Swarm', icon: 'wind', category: 'Rescue', components: { decomposition: { type: "Decomposition", text: "Divide search area into sub-grids assigned to individual drones." }, patterns: { type: "Pattern Recognition", text: "Identify heat signatures matching human body temperature in thermal data." }, abstraction: { type: "Abstraction", text: "Treat trees as static obstacles (circles) for path planning." }, algorithms: { type: "Algorithmic Design", text: "Spiral search pattern sequence to ensure 100% terrain coverage." } } },
                    { id: 'S10', title: 'Library Auto-Sort', icon: 'book-open', category: 'Archival', components: { decomposition: { type: "Decomposition", text: "Break library into Genre, Author, Dewey Decimal Code, and RFID index." }, patterns: { type: "Pattern Recognition", text: "Identify high-demand genres to move them closer to the exit during peak season." }, abstraction: { type: "Abstraction", text: "Use unique ISBNs for sorting logic; ignore the cover design or page count." }, algorithms: { type: "Algorithmic Design", text: "Insertion sort logic to organize returned books into the correct trolley slot." } } },
                    { id: 'S11', title: 'FinTech Trading Bot', icon: 'briefcase', category: 'Finance', components: { decomposition: { type: "Decomposition", text: "Split bot into Data Ingestion, Risk Analysis, Order Execution, and Logging." }, patterns: { type: "Pattern Recognition", text: "Recognize 'Head and Shoulders' trends in candlestick price charts." }, abstraction: { type: "Abstraction", text: "Model stocks as ticker symbols with price/volume vectors only." }, algorithms: { type: "Algorithmic Design", text: "Logic to SELL IF price drops 2% below the moving average." } } },
                    { id: 'S12', title: 'Transit Router', icon: 'truck', category: 'Logistics', components: { decomposition: { type: "Decomposition", text: "Break route into Nodes (stops) and Edges (roads) with weight (traffic)." }, patterns: { type: "Pattern Recognition", text: "Identify traffic delays that repeat every Monday morning at 8:15 AM." }, abstraction: { type: "Abstraction", text: "Represent the city as a simple weighted graph; ignore street names or shops." }, algorithms: { type: "Algorithmic Design", text: "Dijkstra's Algorithm to find the path with the minimum 'time' weight." } } },
                    { id: 'S13', title: 'Smart Home Hub', icon: 'home', category: 'IoT', components: { decomposition: { type: "Decomposition", text: "Divide into Lighting, HVAC, Security, and Voice Command sub-systems." }, patterns: { type: "Pattern Recognition", text: "Identify that lights are usually turned off when the smart lock is engaged." }, abstraction: { type: "Abstraction", text: "Model devices as Objects with 'State' (On/Off) and 'Value' (e.g., 22C)." }, algorithms: { type: "Algorithmic Design", text: "IF Voice='Goodbye' THEN Lock door AND Turn off lights AND Set Temp=18C." } } },
                    { id: 'S14', title: 'Translation AI', icon: 'globe', category: 'Linguistics', components: { decomposition: { type: "Decomposition", text: "Split into Tokenization, Part-of-Speech Tagging, and Contextual Mapping." }, patterns: { type: "Pattern Recognition", text: "Identify common grammatical structure patterns across the Romance languages." }, abstraction: { type: "Abstraction", text: "Represent words as multi-dimensional vectors (Embeddings) in vector space." }, algorithms: { type: "Algorithmic Design", text: "Transformer attention sequence to weigh the importance of adjacent words." } } },
                    { id: 'S15', title: 'Water Filter AI', icon: 'droplets', category: 'Sustainability', components: { decomposition: { type: "Decomposition", text: "Break filter into Flow Rate, TDS Levels, Pump Speed, and Filter Lifespan." }, patterns: { type: "Pattern Recognition", text: "Identify the correlation between high turbidity and rapid filter degradation." }, abstraction: { type: "Abstraction", text: "Treat contaminants as a single 'TDS' value to simplify the sensor logic." }, algorithms: { type: "Algorithmic Design", text: "IF TDS > 500 THEN Increase Backwash Duration BY 20%." } } }
                ];

                const RAW_BANK = [
                    { q: "Which concept involves breaking a complex problem into smaller parts?", options: ["Abstraction", "Decomposition", "Pattern Recognition", "Algorithmic Design"], correct: 1, exp: "Decomposition involves breaking a problem down into manageable components." },
                    { q: "What is the primary goal of Abstraction?", options: ["Identify trends", "Filter out irrelevant detail", "Write instructions", "Solve the problem"], correct: 1, exp: "Abstraction simplifies a problem by removing unnecessary information." },
                    { q: "A sequence of instructions to solve a problem is called...", options: ["A pattern", "Decomposition", "An Algorithm", "A specification"], correct: 2, exp: "Algorithms are step-by-step instructions with a predictable outcome." },
                    { q: "Identifying similarities and trends in data is...", options: ["Abstraction", "Decomposition", "Pattern Recognition", "Logic"], correct: 2, exp: "Patterns help find shortcuts by identifying repeating regularities." }
                ];

                const selectedScenario = ref(SCENARIOS[0]);
                const quizQuestions = ref([]);

                const score = computed(() => {
                    let s = 0;
                    quizQuestions.value.forEach((q, idx) => {
                        if (userAnswers.value[idx] === q.correct) s++;
                    });
                    return s;
                });

                const setActiveTab = (id) => {
                    activeTab.value = id;
                    if (id !== 'quiz') stopTimer();
                    nextTick(() => lucide.createIcons());
                };

                const selectScenario = (s) => {
                    selectedScenario.value = s;
                    builtSpec.value = {};
                    nextTick(() => lucide.createIcons());
                };

                const addComponent = (key) => {
                    builtSpec.value[key] = selectedScenario.value.components[key];
                    nextTick(() => lucide.createIcons());
                };

                const startQuiz = () => {
                    isQuizActive.value = true;
                    quizSubmitted.value = false;
                    userAnswers.value = {};
                    timeLeft.value = 1200;
                    quizQuestions.value = Array.from({ length: 40 }, (_, i) => {
                        const base = RAW_BANK[i % RAW_BANK.length];
                        return { ...base };
                    }).sort(() => 0.5 - Math.random());
                    startTimer();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    nextTick(() => lucide.createIcons());
                };

                const handleAnswerSelect = (qIdx, oIdx) => {
                    if (quizSubmitted.value) return;
                    userAnswers.value[qIdx] = oIdx;
                };

                const submitQuiz = () => {
                    quizSubmitted.value = true;
                    stopTimer();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    nextTick(() => lucide.createIcons());
                };

                const startTimer = () => {
                    if (timerInterval.value) clearInterval(timerInterval.value);
                    timerInterval.value = setInterval(() => {
                        if (timeLeft.value > 0) timeLeft.value--;
                        else submitQuiz();
                    }, 1000);
                };

                const stopTimer = () => clearInterval(timerInterval.value);

                const formatTime = (s) => {
                    const m = Math.floor(s / 60);
                    const sec = s % 60;
                    return `${m}:${sec < 10 ? '0' : ''}${sec}`;
                };

                const getOptionClass = (qIdx, oIdx) => {
                    let base = "text-left p-5 rounded-2xl border font-bold transition-all flex justify-between items-center text-xs md:text-sm text-left ";
                    if (!quizSubmitted.value) {
                        base += userAnswers.value[qIdx] === oIdx ? "bg-indigo-600 text-white border-indigo-600 shadow-xl scale-[1.02]" : "bg-white border-slate-200 hover:border-indigo-300 hover:bg-white text-slate-700";
                    } else {
                        if (oIdx === quizQuestions.value[qIdx].correct) base += "bg-emerald-500 text-white shadow-lg";
                        else if (userAnswers.value[qIdx] === oIdx) base += "bg-rose-500 text-white shadow-lg";
                        else base += "bg-slate-50 opacity-30 border-slate-100";
                    }
                    return base;
                };

                const filteredScenarios = computed(() => {
                    return SCENARIOS.filter(s => s.title.toLowerCase().includes(searchQuery.value.toLowerCase()));
                });

                const answeredCount = computed(() => Object.keys(userAnswers.value).length);

                onMounted(() => lucide.createIcons());

                return {
                    activeTab, tabs, coreIdeas, roadmap, searchQuery, filteredScenarios,
                    selectedScenario, builtSpec, selectScenario, addComponent,
                    isQuizActive, quizQuestions, quizSubmitted, timeLeft, userAnswers,
                    answeredCount, score, startQuiz, handleAnswerSelect, submitQuiz,
                    formatTime, getOptionClass, setActiveTab, isMenuOpen,
                    pillars: [
                        { t: "Decomposition", icon: "trash-2", d: "The essential process of breaking down a complex problem or system into smaller, more manageable parts. By deconstructing the whole, individual experts can resolve specific modules simultaneously.", q: "Can this system be divided into independent sub-problems?", bad: "Solving the entire hospital efficiency issue at once.", good: "Splitting hospital operations into Triage, surgery scheduling, and bed allocation modules." },
                        { t: "Pattern Recognition", icon: "search-code", d: "Observing similarities, trends, and regularities within data or among problems. Recognizing these patterns allows us to apply shortcuts and proven solutions to new challenges.", q: "Have I seen this trend before? Is there a repeating rule?", bad: "Treating every stock market trade as a unique, random event.", good: "Identifying that price spikes often follow specific 'Head and Shoulders' chart patterns." },
                        { t: "Abstraction", icon: "boxes", d: "Filtering out irrelevant detail and focusing on the essential characteristics to simplify a problem representation. This creates a logical model of a complex physical reality.", q: "What details can I ignore to focus on the core objective?", bad: "Modelling the physical appearance of every driver in a traffic simulator.", good: "Representing a car as a simple 2D bounding box with a velocity vector." },
                        { t: "Algorithmic Design", icon: "workflow", d: "Developing a structured set of sequential instructions designed to resolve a problem with a predictable outcome. Algorithms establish the rules that logic must follow.", q: "What are the exact logical steps to reach the solution?", bad: "Saying 'The system should protect the files'.", good: "IF Access_Key == Valid AND User == Admin THEN Grant_Access ELSE Deny_Access." }
                    ],
                    videoResources: [
                        { title: "Intro to Computational Thinking", source: "Khan Academy", duration: "12:45", url: "https://www.youtube.com/results?search_query=khan+academy+computational+thinking" },
                        { title: "B1.1.2: CT Fundamentals", source: "CS Mastery", duration: "18:20", url: "https://www.youtube.com/results?search_query=IB+computer+science+B1.1.2+computational+thinking" },
                        { title: "Pattern Recognition in AI", source: "Tech University", duration: "09:15", url: "https://www.youtube.com/results?search_query=pattern+recognition+computer+science" },
                        { title: "The Power of Abstraction", source: "TED Tech", duration: "15:10", url: "https://www.youtube.com/results?search_query=abstraction+computational+thinking" }
                    ],
                    articleResources: [
                        { title: "Jeannette Wing: Computational Thinking", type: "Academic Paper", length: "10 min read", url: "https://www.cs.cmu.edu/~15110-s13/Wing06-ct.pdf" },
                        { title: "Systemic Decomposition Guides", type: "Engineering Guide", length: "8 min read", url: "https://en.wikipedia.org/wiki/Decomposition_(computer_science)" },
                        { title: "MECE Principle in Logic", type: "Logic Standard", length: "15 min read", url: "https://en.wikipedia.org/wiki/MECE_principle" },
                        { title: "Algorithmic Design Patterns", type: "Industry Standard", length: "12 min read", url: "https://en.wikipedia.org/wiki/Software_design_pattern" }
                    ]
                };
            }
        }).mount('#app');
    </script>
</body>

</html>