<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B1.1.3 Applied Problem Solving | Mastery Portal</title>

    <!-- Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #f8fafc;
            color: #0f172a;
            margin: 0;
            padding: 0;
        }

        [v-cloak] {
            display: none;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 10px;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes pulse-slow {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.98;
                transform: scale(0.995);
            }
        }

        .animate-pulse-slow {
            animation: pulse-slow 4s infinite ease-in-out;
        }

        .nav-link {
            white-space: nowrap;
            flex-shrink: 0;
        }

        /* Fixed workspace height for horizontal Lab Console */
        .fixed-lab-height {
            height: calc(100vh - 16rem);
        }
    </style>
</head>

<body class="bg-[#f8fafc]">
    <div id="app" v-cloak class="flex flex-col h-screen overflow-hidden text-left relative">

        <!-- MAIN HEADER NAVIGATION - RESPONSIVE -->
        <header
            class="h-20 bg-white border-b border-slate-200 px-4 md:px-8 flex flex-row items-center justify-between shrink-0 z-50 shadow-sm fixed top-0 w-full overflow-visible">

            <!-- BRANDING: B1.1.3 + Applied Problem Solving -->
            <div class="flex items-center shrink-0 ml-4 md:ml-12 gap-3 text-left">
                <div
                    class="w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-black shadow-lg text-xs shrink-0">
                    B1.1.3</div>
                <div class="hidden sm:block leading-tight text-left">
                    <h1 class="font-extrabold text-slate-900 text-sm md:text-base tracking-tight">Applied Problem
                        Solving</h1>
                    <p class="text-[9px] text-indigo-500 font-bold uppercase tracking-widest leading-none">Computational
                        Thinking Toolkit</p>
                </div>
            </div>

            <!-- DESKTOP NAV -->
            <nav class="hidden lg:flex flex-1 justify-center mx-4">
                <div class="flex items-center bg-slate-100 p-1 rounded-2xl gap-1">
                    <button v-for="tab in tabs" :key="tab.id" @click="setActiveTab(tab.id)"
                        :class="['px-5 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 whitespace-nowrap', activeTab === tab.id ? 'bg-white text-indigo-600 shadow-md scale-105' : 'text-slate-500 hover:text-slate-700']">
                        <i :data-lucide="tab.icon" class="w-4 h-4 text-left"></i> {{ tab.label }}
                    </button>
                </div>
            </nav>

            <!-- ACTIONS & MOBILE MENU -->
            <div class="flex items-center gap-2 md:gap-4 shrink-0 text-xs md:text-sm mr-2 md:mr-4">
                <div class="w-[1px] h-6 bg-slate-300 hidden md:block text-left"></div>
                <a href="index.html"
                    class="hidden sm:flex px-4 py-2 rounded-xl font-bold text-slate-700 hover:bg-slate-50 hover:text-indigo-600 transition-all items-center gap-2 group whitespace-nowrap border border-slate-200 lg:border-none">
                    <i data-lucide="arrow-left" class="w-4 h-4 group-hover:-translate-x-1 transition-transform"></i>
                    <span>Back to Curriculum</span>
                </a>

                <button @click="isMenuOpen = !isMenuOpen"
                    class="lg:hidden p-2.5 bg-slate-100 rounded-xl text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all">
                    <i :data-lucide="isMenuOpen ? 'x' : 'menu'" class="w-6 h-6 text-left"></i>
                </button>
            </div>

            <!-- MOBILE DROPDOWN -->
            <transition enter-active-class="transition duration-200 ease-out"
                enter-from-class="transform -translate-y-4 opacity-0"
                enter-to-class="transform translate-y-0 opacity-100"
                leave-active-class="transition duration-150 ease-in"
                leave-from-class="transform translate-y-0 opacity-100"
                leave-to-class="transform -translate-y-4 opacity-0">
                <div v-if="isMenuOpen"
                    class="absolute top-20 left-0 w-full bg-white border-b border-slate-200 shadow-2xl p-4 flex flex-col gap-2 z-40 lg:hidden text-left">
                    <button v-for="tab in tabs" :key="tab.id" @click="setActiveTab(tab.id); isMenuOpen = false;"
                        :class="['w-full p-4 rounded-2xl text-left font-bold flex items-center gap-4 transition-all', activeTab === tab.id ? 'bg-indigo-600 text-white shadow-lg' : 'bg-slate-50 text-slate-600 hover:bg-slate-100']">
                        <i :data-lucide="tab.icon" class="w-5 h-5"></i> {{ tab.label }}
                    </button>
                    <a href="index.html"
                        class="w-full p-4 rounded-2xl text-left font-bold flex items-center gap-4 bg-slate-900 text-white mt-2">
                        <i data-lucide="arrow-left" class="w-5 h-5 text-left"></i> Back to Curriculum
                    </a>
                </div>
            </transition>
        </header>

        <!-- MAIN CONTENT AREA -->
        <main id="main-content-area" class="flex-grow overflow-y-auto pt-20 custom-scrollbar bg-[#f8fafc]">
            <div class="max-w-7xl mx-auto p-4 md:p-8 lg:p-10 pb-40 text-left">

                <!-- TAB: OVERVIEW -->
                <section v-if="activeTab === 'overview'" class="animate-in pt-4 text-left">
                    <div class="flex flex-col lg:flex-row gap-10 lg:gap-16 items-start mb-16 pt-4 text-left">
                        <div class="lg:w-3/5 text-left text-left">
                            <div
                                class="inline-flex items-center gap-2 bg-indigo-50 text-indigo-600 text-[10px] font-black px-4 py-1.5 rounded-full mb-6 uppercase tracking-[0.2em] text-left">
                                <i data-lucide="brain-circuit" class="w-3.5 h-3.5"></i> Applied Problem Solving
                            </div>
                            <h2
                                class="text-3xl md:text-5xl font-black text-slate-900 mb-6 leading-tight tracking-tighter text-left">
                                The Universal <br />
                                <span class="text-indigo-600">Problem-Solving Toolkit.</span>
                            </h2>
                            <p
                                class="text-slate-600 text-sm md:text-base lg:text-lg leading-relaxed mb-8 max-w-2xl font-medium">
                                Computational thinking does not necessarily involve programming. It is a <strong>toolkit
                                    of available techniques</strong> for problem-solving used in Computer Science. It
                                provides the logical structure required to deconstruct any complex system.
                            </p>

                            <p class="text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mb-4 text-left">
                                Core Domains of Application</p>

                            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-10 text-left">
                                <div v-for="idea in coreIdeas" :key="idea.name"
                                    class="bg-white p-5 rounded-3xl border border-slate-100 shadow-sm flex flex-col items-center text-center gap-3 group hover:border-indigo-200 transition-all text-center">
                                    <div
                                        class="w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center text-indigo-600 group-hover:scale-110 transition-transform shadow-inner text-center">
                                        <i :data-lucide="idea.icon" class="w-5 h-5 text-center"></i>
                                    </div>
                                    <span
                                        class="text-[9px] md:text-[10px] font-black text-slate-800 leading-tight uppercase tracking-widest text-center">{{
                                        idea.name }}</span>
                                </div>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-4 justify-start text-left">
                                <button @click="setActiveTab('specifier')"
                                    class="bg-slate-900 text-white px-8 py-3.5 rounded-2xl font-extrabold text-sm hover:bg-indigo-600 transition-all shadow-xl flex items-center justify-center gap-3 active:scale-95 text-left text-left">
                                    Launch Application Lab <i data-lucide="chevron-right" class="w-4 h-4 text-left"></i>
                                </button>
                                <button @click="setActiveTab('pillars')"
                                    class="bg-white border-2 border-slate-100 text-slate-700 px-8 py-3.5 rounded-2xl font-extrabold text-sm hover:bg-slate-50 transition-all active:scale-95 text-left text-left text-left">
                                    Technical Pillars
                                </button>
                            </div>
                        </div>
                        <div class="lg:w-2/5 w-full">
                            <div
                                class="bg-white p-8 rounded-[3rem] border border-slate-100 shadow-2xl relative overflow-hidden text-left text-left">
                                <h4
                                    class="font-black text-slate-400 uppercase text-[10px] tracking-[0.2em] mb-8 border-b pb-4 text-center text-left text-left">
                                    The Application Journey</h4>
                                <div class="space-y-6 text-left">
                                    <div v-for="(step, i) in roadmap" :key="step.label"
                                        class="flex items-center gap-4 group text-left">
                                        <div
                                            class="w-10 h-10 rounded-xl bg-slate-50 text-indigo-600 flex items-center justify-center text-sm font-black group-hover:bg-indigo-600 group-hover:text-white transition-colors shadow-sm text-center">
                                            <i :data-lucide="step.icon" class="w-4 h-4 text-center"></i>
                                        </div>
                                        <div class="text-left text-left">
                                            <p
                                                class="text-[9px] font-black text-slate-400 uppercase tracking-tighter mb-1 text-left text-left">
                                                Step 0{{i+1}}</p>
                                            <p
                                                class="text-slate-700 font-bold text-left text-sm md:text-base leading-none text-left">
                                                {{ step.label }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TAB: APPLICATION LAB (FIXED HORIZONTAL CONSOLE) -->
                <section v-if="activeTab === 'specifier'" class="animate-in pt-4 text-left flex flex-col">
                    <div class="mb-4 bg-indigo-50 border-l-4 border-indigo-600 p-4 rounded-r-xl text-left text-left">
                        <p class="text-indigo-900 text-xs font-bold leading-relaxed text-left">
                            <span class="uppercase font-black tracking-widest block mb-1 text-left">Application
                                Lab:</span>
                            Select one of the 15 professional scenarios below to see how Computer Scientists apply the
                            four core concepts (Abstraction, Decomposition, Pattern Recognition, Algorithmic Design) to
                            solve technical challenges.
                        </p>
                    </div>

                    <div class="flex flex-col xl:flex-row gap-6 items-stretch fixed-lab-height text-left">
                        <!-- Col 1: Case Registry -->
                        <div
                            class="xl:w-1/4 bg-white p-6 rounded-[2.5rem] border border-slate-200 shadow-sm flex flex-col text-left text-left">
                            <h4 class="text-[10px] font-black text-slate-400 uppercase mb-4 tracking-widest text-left">
                                1. Scenario Registry (15)</h4>
                            <div class="relative mb-6 text-left">
                                <i data-lucide="search"
                                    class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"></i>
                                <input type="text" v-model="searchQuery" placeholder="Filter domains..."
                                    class="w-full bg-slate-50 border border-slate-100 rounded-xl py-2 pl-10 pr-4 text-xs md:text-sm outline-none focus:ring-1 focus:ring-indigo-500">
                            </div>
                            <div
                                class="flex-grow overflow-y-auto pr-2 custom-scrollbar space-y-1.5 text-left text-left text-left">
                                <button v-for="s in filteredScenarios" :key="s.id" @click="selectScenario(s)"
                                    :class="['w-full text-left p-3.5 rounded-2xl flex items-center gap-4 transition-all', selectedScenario.id === s.id ? 'bg-indigo-600 text-white shadow-lg' : 'hover:bg-slate-50 text-slate-500']">
                                    <div
                                        :class="['w-8 h-8 rounded-lg flex items-center justify-center shrink-0 text-left', selectedScenario.id === s.id ? 'bg-white/20' : 'bg-slate-100']">
                                        <i :data-lucide="s.icon" class="w-4 h-4 text-left"></i>
                                    </div>
                                    <span class="font-bold text-xs truncate text-left text-left">{{ s.title }}</span>
                                </button>
                            </div>
                        </div>

                        <!-- Col 2: Cognitive Palette -->
                        <div
                            class="xl:w-1/4 bg-white p-6 rounded-[2.5rem] border border-slate-200 shadow-sm flex flex-col text-left text-left">
                            <h4 class="text-[10px] font-black text-slate-400 uppercase mb-4 tracking-widest text-left">
                                2. Cognitive Toolbox</h4>
                            <div class="flex-grow overflow-y-auto pr-2 custom-scrollbar space-y-3 text-left">
                                <button v-for="(val, key) in selectedScenario.components" :key="key"
                                    @click="addComponent(key)" :disabled="builtSpec[key]"
                                    :class="['w-full flex items-center justify-between p-4 rounded-2xl font-bold transition-all border text-left text-xs text-left text-left', builtSpec[key] ? 'bg-slate-50 text-slate-400 opacity-50 cursor-default' : 'bg-white text-slate-700 hover:border-indigo-600']">
                                    <span class="text-left text-left text-left">{{ val.type }}</span>
                                    <i :data-lucide="builtSpec[key] ? 'check-circle-2' : 'plus'"
                                        class="w-4 h-4 text-left text-left"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Col 3: Terminal Session -->
                        <div
                            class="flex-grow bg-[#0f172a] rounded-[2.5rem] p-10 shadow-2xl flex flex-col border-[6px] border-white text-slate-300 relative text-left">
                            <div
                                class="flex justify-between items-start mb-10 border-b border-white/10 pb-6 text-left text-left">
                                <div class="text-left text-left">
                                    <h3
                                        class="text-indigo-400 font-mono text-[10px] font-bold uppercase tracking-widest text-left text-left">
                                        Logic_Analysis_Session</h3>
                                    <h2
                                        class="text-white text-xl md:text-3xl font-black mt-1 leading-tight tracking-tight uppercase text-left text-left">
                                        {{ selectedScenario.title }}</h2>
                                </div>
                                <div class="text-right text-right shrink-0">
                                    <p
                                        class="text-[10px] font-mono text-slate-500 uppercase tracking-widest text-left text-left">
                                        Domain</p>
                                    <p
                                        class="text-indigo-300 font-bold text-xs md:text-sm text-right text-left text-left">
                                        {{ selectedScenario.category }}</p>
                                </div>
                            </div>
                            <div
                                class="flex-grow font-mono space-y-10 overflow-y-auto custom-scrollbar pr-6 text-sm text-left">
                                <div v-if="Object.keys(builtSpec).length === 0"
                                    class="h-full flex flex-col items-center justify-center opacity-30 text-white py-24 text-center text-left">
                                    <i data-lucide="terminal"
                                        class="w-12 h-12 mb-6 mx-auto text-center text-center text-center"></i>
                                    <p class="uppercase tracking-widest font-black text-xs text-center text-center">
                                        Select cognitive techniques to solve this problem</p>
                                </div>
                                <div v-for="(value, key) in builtSpec" :key="key"
                                    class="animate-in text-left text-left">
                                    <div class="flex items-center gap-4 mb-4 text-left">
                                        <span
                                            class="text-indigo-500 font-black text-xs uppercase text-left text-left">[{{
                                            key.toUpperCase() }}]</span>
                                        <div class="h-[1px] flex-grow bg-white/5 text-left text-left"></div>
                                    </div>
                                    <p
                                        class="text-slate-300 leading-relaxed pl-6 border-l border-indigo-500/40 text-sm md:text-lg font-light text-left text-left">
                                        {{ value.text }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TAB: 6 PILLARS (RE-ARRANGED & ENRICHED FOR B1.1.3) -->
                <section v-if="activeTab === 'pillars'" class="animate-in text-left pt-6 text-left">
                    <div class="mb-10 border-l-4 border-indigo-600 pl-6 text-left">
                        <h2 class="text-3xl md:text-4xl font-black text-slate-900 mb-1 text-left text-left">Framework of
                            Application</h2>
                        <p
                            class="text-slate-500 font-bold max-w-4xl text-sm md:text-lg leading-relaxed text-left text-left">
                            Computational thinking techniques enable Computer Scientists to approach complex systems
                            through the "contractual" logic found in the Oxford and Hodder IB Computer Science
                            curriculum.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 pb-20 text-xs md:text-sm text-left text-left">
                        <div v-for="p in pillars" :key="p.t"
                            class="bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm hover:shadow-xl transition-all flex flex-col group text-left">
                            <div class="flex items-center gap-5 mb-5 text-left text-left text-left">
                                <div
                                    class="w-14 h-14 rounded-2xl flex items-center justify-center bg-slate-50 text-indigo-600 group-hover:bg-indigo-600 group-hover:text-white transition-all shadow-sm">
                                    <i :data-lucide="p.icon" class="w-7 h-7 text-left text-left"></i>
                                </div>
                                <h4
                                    class="font-extrabold text-slate-900 text-xl uppercase tracking-tight text-left text-left">
                                    {{ p.t }}</h4>
                            </div>
                            <p
                                class="text-slate-600 text-sm md:text-base leading-relaxed mb-6 text-left font-medium text-left">
                                {{ p.d }}</p>

                            <div
                                class="p-5 bg-indigo-50 rounded-2xl mb-6 border border-indigo-100 text-left shadow-inner text-left text-left">
                                <span
                                    class="text-[10px] font-black text-indigo-600 uppercase block mb-1.5 text-left tracking-widest">Applied
                                    Objective</span>
                                <p class="font-bold text-slate-800 italic text-[16px] leading-snug text-left text-left">
                                    "{{ p.q }}"</p>
                            </div>
                            <div
                                class="space-y-4 pt-4 border-t border-slate-50 text-[14px] mt-auto text-left text-left">
                                <div class="text-left text-left text-left"><span
                                        class="text-rose-500 font-black uppercase tracking-widest text-[11px] block mb-1 text-left text-left">Surface
                                        Approach (Fail)</span>
                                    <p class="text-slate-400 line-through text-sm italic text-left">"{{ p.bad }}"</p>
                                </div>
                                <div class="text-left text-left text-left text-left"><span
                                        class="text-emerald-600 font-black uppercase tracking-widest text-[11px] block mb-1 text-left text-left text-left">Computational
                                        Insight (Pass)</span>
                                    <p class="text-slate-800 font-bold text-sm text-left text-left">"{{ p.good }}"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TAB: QUIZ - FIXED STICKY HEADER -->
                <section v-if="activeTab === 'quiz'" class="animate-in pt-10 text-left text-left">
                    <div v-if="!isQuizActive"
                        class="max-w-2xl mx-auto text-center py-20 px-6 bg-white border border-slate-200 rounded-[3rem] shadow-sm mt-10 text-center text-center">
                        <div
                            class="w-24 h-24 bg-indigo-50 rounded-full shadow-inner flex items-center justify-center mx-auto mb-10 text-indigo-600 text-center">
                            <i data-lucide="graduation-cap"
                                class="w-12 h-12 text-center text-center text-center text-center"></i>
                        </div>
                        <h2
                            class="text-3xl font-black text-slate-900 mb-6 tracking-tight text-center text-center text-center">
                            Competency Assessment</h2>
                        <p
                            class="text-slate-500 text-sm md:text-base mb-12 max-w-lg mx-auto leading-relaxed font-medium text-center text-center text-center">
                            Prove your mastery of B1.1.3 Applied Problem Solving. Session selects 40 random questions
                            from our database.</p>
                        <div
                            class="flex gap-12 mb-8 border-b border-slate-100 pb-8 w-full justify-center text-center text-center">
                            <div class="text-center text-center text-center text-center">
                                <p class="text-xl font-black text-indigo-600 text-center text-center">40</p>
                                <p
                                    class="text-[10px] font-black text-slate-400 uppercase tracking-widest text-center text-center text-center">
                                    Questions</p>
                            </div>
                            <div
                                class="text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center">
                                <p
                                    class="text-xl font-black text-indigo-600 text-center text-center text-center text-center">
                                    20</p>
                                <p
                                    class="text-[10px] font-black text-slate-400 uppercase tracking-widest text-center text-center text-center text-center text-center">
                                    Minutes</p>
                            </div>
                        </div>
                        <button @click="startQuiz"
                            class="bg-indigo-600 text-white px-12 py-5 rounded-2xl font-black shadow-xl hover:bg-indigo-50 flex items-center gap-3 mx-auto active:scale-95 transition-all text-xs uppercase tracking-widest text-center text-center text-center text-center text-center text-center"><i
                                data-lucide="zap" class="w-4 h-4 fill-white text-center"></i> Launch Quiz
                            Session</button>
                    </div>

                    <div v-else class="max-w-4xl mx-auto pb-40 text-left text-left text-left text-left">

                        <!-- STICKY QUIZ HEADER - FIXED AT TOP-0 RELATIVE TO CONTAINER (DOCKS UNDER MAIN HEADER) -->
                        <div
                            class="sticky top-0 bg-[#f8fafc] z-40 py-6 border-b border-slate-200 mb-12 transition-all text-left text-left text-left">
                            <div
                                class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 px-4 text-left text-left text-left text-left">
                                <div class="flex items-center gap-4 text-left text-left text-left text-left">
                                    <div
                                        class="w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-bold shadow-lg shrink-0 text-lg text-center text-center text-center text-center">
                                        B1</div>
                                    <div class="text-left text-left text-left text-left text-left">
                                        <h2
                                            class="text-sm md:text-base font-black text-slate-900 tracking-widest uppercase flex items-center gap-3 text-left text-left text-left text-left text-left">
                                            <i data-lucide="clock"
                                                class="w-4 h-4 text-indigo-600 text-left text-left text-left"></i>
                                            B1.1.3 Quiz Session</h2>
                                        <div
                                            class="flex flex-wrap items-center gap-4 mt-1 text-left text-left text-left text-left text-left text-left">
                                            <div
                                                :class="['w-2.5 h-2.5 rounded-full text-left text-left text-left', quizSubmitted ? 'bg-slate-300' : 'bg-emerald-500 animate-pulse']">
                                            </div>
                                            <p
                                                class="text-[10px] font-black text-indigo-600 uppercase bg-indigo-50 px-3 py-1 rounded-full border border-indigo-100 leading-none">
                                                Status: {{ quizSubmitted ? 'Evaluated' : 'In Progress' }}</p>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="flex items-center gap-8 w-full md:w-auto shrink-0 text-left text-left text-left text-left text-left">
                                    <div v-if="!quizSubmitted"
                                        class="bg-white px-6 py-3 rounded-2xl border border-slate-200 shadow-sm flex items-center gap-3 text-left text-left text-left text-left text-left text-left">
                                        <i data-lucide="timer"
                                            :class="['w-4 h-4 text-left text-left text-left text-left text-left', timeLeft < 120 ? 'text-rose-500 animate-pulse' : 'text-slate-400']"></i>
                                        <span
                                            class="text-lg font-black font-mono text-slate-700 text-left text-left text-left text-left text-left text-left">{{
                                            formatTime(timeLeft) }}</span>
                                    </div>
                                    <div v-if="quizSubmitted"
                                        class="bg-white px-6 py-3 rounded-2xl border border-slate-200 shadow-xl flex items-center gap-4 animate-in text-left text-left text-left text-left text-left text-left">
                                        <div
                                            class="text-right text-left text-left text-left text-left text-left text-left">
                                            <p
                                                class="text-[9px] font-black text-slate-400 uppercase leading-none mb-1 text-left text-left text-left text-left">
                                                Score</p>
                                            <p
                                                :class="['text-xl font-black text-left text-left text-left text-left text-left text-left', score >= 32 ? 'text-emerald-500' : 'text-rose-500']">
                                                {{ score }} / 40</p>
                                        </div>
                                        <button @click="startQuiz" title="Retake Quiz"
                                            class="p-2 bg-indigo-600 text-white rounded-xl shadow-lg text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left"><i
                                                data-lucide="refresh-cw"
                                                class="w-4 h-4 text-left text-left text-left text-left text-left text-left"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-10 px-4 text-left text-left">
                            <div v-for="(q, idx) in quizQuestions" :key="idx"
                                :class="['bg-white p-8 md:p-10 rounded-[3rem] border transition-all text-left text-left text-left text-left', quizSubmitted ? (userAnswers[idx] === q.correct ? 'border-emerald-200 bg-emerald-50/10' : 'border-rose-200 bg-rose-50/10') : 'border-slate-200 shadow-sm']">
                                <h4
                                    class="font-bold text-slate-800 text-lg mb-8 flex gap-4 text-left text-left text-left text-left text-left">
                                    <span
                                        class="w-12 h-12 rounded-xl bg-slate-900 text-white flex items-center justify-center shrink-0 text-left text-left text-left text-left">Q{{idx
                                        + 1}}</span>
                                    <span class="pt-2 text-left">{{ q.q }}</span>
                                </h4>
                                <div
                                    class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left text-left text-left text-left text-left text-left">
                                    <button v-for="(opt, oIdx) in q.options" :key="oIdx"
                                        @click="handleAnswerSelect(idx, oIdx)" :disabled="quizSubmitted"
                                        :class="getOptionClass(idx, oIdx)">
                                        <span
                                            class="flex-grow text-left text-left text-left text-left text-left text-left">{{
                                            opt }}</span>
                                        <i v-if="quizSubmitted && oIdx === q.correct" data-lucide="check-circle-2"
                                            class="w-5 h-5 text-white text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                        <i v-if="quizSubmitted && userAnswers[idx] === oIdx && userAnswers[idx] !== q.correct"
                                            data-lucide="x-circle"
                                            class="w-5 h-5 text-white text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                    </button>
                                </div>
                                <div v-if="quizSubmitted"
                                    class="mt-8 p-6 bg-slate-50 rounded-2xl border-l-8 border-indigo-600 animate-in text-left text-left text-left text-left text-left">
                                    <div
                                        class="flex items-center gap-2 mb-2 text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                        <i data-lucide="info"
                                            class="w-4 h-4 text-indigo-600 text-left text-left text-left text-left text-left"></i><span
                                            class="text-[10px] font-black uppercase text-indigo-600 tracking-widest text-left text-left text-left text-left text-left">Technical
                                            Insight</span></div>
                                    <p
                                        class="text-sm text-slate-600 font-medium italic leading-relaxed text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                        "{{ q.exp }}"</p>
                                </div>
                            </div>
                        </div>

                        <div v-if="!quizSubmitted"
                            class="mt-20 text-center text-center text-center text-center text-center text-center">
                            <button @click="submitQuiz" :disabled="answeredCount < 40"
                                :class="['px-20 py-8 rounded-[2rem] font-black uppercase tracking-widest shadow-2xl transition-all active:scale-95 text-sm md:text-base text-center text-center text-center text-center text-center text-center', answeredCount === 40 ? 'bg-slate-900 text-white hover:bg-indigo-600' : 'bg-slate-100 text-slate-300 cursor-not-allowed']">
                                Finalize Quiz & Grade
                            </button>
                        </div>
                    </div>
                </section>

                <!-- TAB: RESOURCES -->
                <section v-if="activeTab === 'resources'"
                    class="animate-in pt-10 text-left text-left text-left text-left">
                    <div
                        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 text-left text-left text-left text-left">
                        <div class="space-y-8 text-left text-left text-left text-left text-left text-left">
                            <div
                                class="flex items-center justify-center md:justify-start gap-3 mb-2 text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="play-circle"
                                    class="w-6 h-6 text-indigo-600 text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h3
                                    class="font-bold text-slate-900 uppercase text-xs tracking-widest text-left text-left text-left text-left text-left text-left text-left">
                                    Tutorials</h3>
                            </div>
                            <a v-for="v in videoResources" :key="v.title" :href="v.url" target="_blank" rel="noreferrer"
                                class="block bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 shadow-sm transition-all group text-left text-left text-left text-left text-left">
                                <i data-lucide="youtube"
                                    class="w-8 h-8 text-red-500 mb-4 text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h4
                                    class="font-bold text-slate-800 mb-2 group-hover:text-indigo-600 leading-tight text-left text-left text-left text-left text-left text-left text-left">
                                    {{ v.title }}</h4>
                                <p
                                    class="text-xs text-slate-400 font-black uppercase tracking-tight text-left text-left text-left text-left text-left text-left text-left">
                                    {{ v.source }} â€¢ {{ v.duration }}</p>
                            </a>
                        </div>
                        <div class="space-y-8 text-left text-left text-left text-left text-left text-left">
                            <div
                                class="flex items-center justify-center md:justify-start gap-3 mb-2 text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="monitor"
                                    class="w-6 h-6 text-indigo-600 text-left text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h3
                                    class="font-bold text-slate-900 uppercase text-xs tracking-widest text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                    Articles</h3>
                            </div>
                            <a v-for="a in articleResources" :key="a.title" :href="a.url" target="_blank"
                                rel="noreferrer"
                                class="block bg-white p-6 rounded-2xl border border-slate-200 hover:border-indigo-500 shadow-sm transition-all group text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="globe"
                                    class="w-8 h-8 text-blue-500 mb-4 text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h4
                                    class="font-bold text-slate-800 mb-2 group-hover:text-indigo-600 leading-tight text-left text-left text-left text-left text-left text-left text-left">
                                    {{ a.title }}</h4>
                                <p
                                    class="text-xs text-slate-400 font-black uppercase tracking-tight text-left text-left text-left text-left text-left text-left text-left text-left">
                                    {{ a.type }}</p>
                            </a>
                        </div>
                        <div class="space-y-8 text-left text-left text-left text-left text-left text-left">
                            <div
                                class="flex items-center justify-center md:justify-start gap-3 mb-2 text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="book-marked"
                                    class="w-6 h-6 text-indigo-600 text-left text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h3
                                    class="font-bold text-slate-900 uppercase text-xs tracking-widest text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                    Textbooks</h3>
                            </div>
                            <a href="https://www.hoddereducation.com" target="_blank" rel="noreferrer"
                                class="block bg-indigo-600 p-8 rounded-[2.5rem] text-white shadow-xl hover:scale-[1.02] transition-all relative overflow-hidden text-left text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="book-open"
                                    class="absolute top-0 right-0 p-6 w-20 h-20 opacity-10 text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h4
                                    class="text-lg font-black mb-4 text-left text-left text-left text-left text-left text-left text-left">
                                    Hodder Education</h4>
                                <p
                                    class="text-indigo-100 text-sm leading-relaxed mb-6 italic font-medium text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                    "Applying CT principles allows Computer Scientists to develop solutions without
                                    internet or hardware dependencies."</p>
                                <span
                                    class="text-[10px] font-black uppercase block border-t border-white/20 pt-4 text-left text-left text-left text-left text-left text-left text-left text-left text-left">Page
                                    282: Applied Methods</span>
                            </a>
                            <a href="https://global.oup.com" target="_blank" rel="noreferrer"
                                class="block bg-slate-900 p-8 rounded-[2.5rem] text-white shadow-xl hover:scale-[1.02] transition-all border border-slate-800 relative overflow-hidden text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                <i data-lucide="book-open"
                                    class="absolute top-0 right-0 p-6 w-20 h-20 opacity-10 text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left"></i>
                                <h4
                                    class="text-lg font-black mb-4 text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                    Oxford Reference</h4>
                                <p
                                    class="text-slate-400 leading-relaxed mb-10 italic font-medium text-slate-400 text-sm text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">
                                    "The toolkit of CT techniques is the foundation of high-level problem solving in
                                    modern CS."</p>
                                <span
                                    class="text-[10px] font-black uppercase block border-t border-white/20 pt-4 text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left text-left">Page
                                    182: The Cognitive Toolkit</span>
                            </a>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- FIXED FOOTER -->
        <footer
            class="fixed bottom-0 left-0 w-full bg-white py-3 border-t border-slate-200 text-center text-sm text-slate-500 z-50 text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center">
            <div
                class="container mx-auto px-6 flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-4 text-center">
                <div
                    class="flex items-center space-x-4 text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center">
                    <a href="https://www.linkedin.com/in/emmayeboah360/"
                        class="text-blue-600 hover:scale-125 transition-transform text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center"
                        target="_blank" rel="noreferrer">
                        <svg class="h-6 w-6 text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center"
                            viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.762s.784-1.762 1.75-1.762 1.75.79 1.75 1.762-.784 1.762-1.75 1.762zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                        </svg>
                    </a>
                    <a href="mailto:yemmanuel308@gmail.com"
                        class="text-rose-600 hover:scale-125 transition-transform text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center">
                        <svg class="h-6 w-6 text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center"
                            viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 12.713l-11.75 6.287 11.75 5.5zM23.75 18.995l-11.75-6.287v11.748zM12 11.287l-12-6.287v1.868l12 6.287l12-6.287v-1.868z" />
                        </svg>
                    </a>
                </div>
                <p
                    class="pl-4 font-black uppercase tracking-[0.25em] text-[10px] text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center text-center">
                    &copy; 2025 Emmanuel Yeboah. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, nextTick } = Vue;

        createApp({
            setup() {
                const activeTab = ref('overview');
                const searchQuery = ref('');
                const builtSpec = ref({});
                const isQuizActive = ref(false);
                const quizSubmitted = ref(false);
                const timeLeft = ref(1200);
                const userAnswers = ref({});
                const timerInterval = ref(null);
                const isMenuOpen = ref(false);

                const tabs = [
                    { id: 'overview', label: 'Overview', icon: 'home' },
                    { id: 'specifier', label: 'Application Lab', icon: 'settings' },
                    { id: 'pillars', label: '4 Pillars', icon: 'diamond' },
                    { id: 'resources', label: 'Resources', icon: 'library' },
                    { id: 'quiz', label: 'Quiz', icon: 'graduation-cap' }
                ];

                const coreIdeas = [
                    { name: 'Software Dev', icon: 'code' },
                    { name: 'Data Analysis', icon: 'bar-chart' },
                    { name: 'Machine Learning', icon: 'cpu' },
                    { name: 'Database Design', icon: 'database' }
                ];

                const roadmap = [
                    { label: "Define Logical Boundaries", icon: "scale" },
                    { label: "Break Complexity (Decomposition)", icon: "trash-2" },
                    { label: "Filter Detail (Abstraction)", icon: "boxes" },
                    { label: "Design Sequence (Algorithm)", icon: "workflow" }
                ];

                // 15 SCENARIOS CENTERED ON B1.1.3 DOMAINS
                const SCENARIOS = [
                    { id: 'S1', title: 'Modular Software Architecture', category: 'Software Development', icon: 'code', components: { decomposition: { type: "Decomposition", text: "Deconstruct a monolith application into Microservices: Auth, Payment, and Feed. This allows teams to build and deploy components independently." }, patterns: { type: "Pattern Recognition", text: "Identify that multiple features require 'User Role Verification'. Implement a reusable 'Middleware' pattern to handle auth globally." }, abstraction: { type: "Abstraction", text: "Represent the payment gateway as a standard Interface. Ignore whether it's Stripe or PayPal; the logic only cares about 'Charge' and 'Refund' methods." }, algorithms: { type: "Algorithmic Design", text: "Sequence to handle race conditions: 1. Lock record, 2. Validate funds, 3. Deduct amount, 4. Unlock and Return status." } } },
                    { id: 'S2', title: 'Predictive Sales Analysis', category: 'Data Analysis', icon: 'bar-chart', components: { decomposition: { type: "Decomposition", text: "Divide the dataset into Seasonal Trends, Geographic Spikes, and Customer Demographics to isolate variables affecting growth." }, patterns: { type: "Pattern Recognition", text: "Identify that retail transactions spike by 15% on Thursdays following local payroll cycles." }, abstraction: { type: "Abstraction", text: "Treat individual customer names as irrelevant. Model them as 'Purchase Clusters' to find the most profitable segments." }, algorithms: { type: "Algorithmic Design", text: "Sequence for finding Mean Absolute Error (MAE) to verify the accuracy of the sales forecast model." } } },
                    { id: 'S3', title: 'Spam Filter Neural Net', category: 'Machine Learning', icon: 'cpu', components: { decomposition: { type: "Decomposition", text: "Split the pipeline into Data Cleaning, Feature Extraction, Model Training, and Inference." }, patterns: { type: "Pattern Recognition", text: "Recognize that 'Urgent' and 'Win' occurring in a single header has an 89% correlation with spam clusters." }, abstraction: { type: "Abstraction", text: "Represent words as high-dimensional vectors (Embeddings). Ignore the specific font size or color used in the email." }, algorithms: { type: "Algorithmic Design", text: "Backpropagation logic: Calculate error at output layer, adjust weights in hidden layers, and repeat until loss is minimized." } } },
                    { id: 'S4', title: 'Inventory Normalization', category: 'Database Design', icon: 'database', components: { decomposition: { type: "Decomposition", text: "Deconstruct a flat Excel sheet into 3NF Tables: Products, Categories, Suppliers, and Orders to eliminate redundancy." }, patterns: { type: "Pattern Recognition", text: "Identify that 'Category_Name' repeats for every item. Create a 'lookup table' to store this once and reference it by ID." }, abstraction: { type: "Abstraction", text: "Design an Entity-Relationship Diagram (ERD). Focus on relationships (1-to-Many); ignore the data storage hardware or OS." }, algorithms: { type: "Algorithmic Design", text: "B-Tree indexing sequence: Navigate through nodes to find the specific Record_ID in O(log n) time." } } },
                    { id: 'S5', title: 'Firewall Intrusion Logic', category: 'Network Security', icon: 'shield', components: { decomposition: { type: "Decomposition", text: "Break traffic inspection into Packet Headers, Data Payloads, and Port Activity logs." }, patterns: { type: "Pattern Recognition", text: "Detect 'Lateral Movement' patterns: if an IP visits 50 internal ports in 1 second, it matches a 'Port Scan' signature." }, abstraction: { type: "Abstraction", text: "Represent the network as a Graph (Nodes and Edges). Ignore the physical brand of the routers; focus on the logical routing table." }, algorithms: { type: "Algorithmic Design", text: "Automatic Mitigation: IF Hits > Threshold AND Port == Sensitive THEN Block IP AND Notify admin ELSE Continue Log." } } },
                    { id: 'S6', title: 'Self-Driving Path Planner', category: 'Autonomous Systems', icon: 'car', components: { decomposition: { type: "Decomposition", text: "Divide into Computer Vision, Object Classification, Path Planning, and Braking Control." }, patterns: { type: "Pattern Recognition", text: "Recognize stop signs by identifying red octagonal shapes in the visual feed regardless of light angle." }, abstraction: { type: "Abstraction", text: "Treat pedestrians as 'dynamic boxes' with velocity vectors. Ignore their appearance; focus on their predicted intersection path." }, algorithms: { type: "Algorithmic Design", text: "If Distance < Safety_Limit AND Velocity > 0 THEN Apply Emergency Brakes." } } },
                    { id: 'S7', title: 'Health Vitals Monitor', category: 'Healthcare', icon: 'heart-pulse', components: { decomposition: { type: "Decomposition", text: "Break monitoring into HR Sensing, Data Transmission, Threshold Checking, and Emergency Alerts." }, patterns: { type: "Pattern Recognition", text: "Detect Arrhythmia by identifying an irregular rhythm pattern in the EKG wavelength data." }, abstraction: { type: "Abstraction", text: "Represent vitals as a simple time-series integer. Ignore the specific hospital bed ID; focus only on the patient's heart rate." }, algorithms: { type: "Algorithmic Design", text: "If BPM > 120 for > 60s THEN trigger High-Priority alert to nursing station." } } },
                    { id: 'S8', title: 'Smart Grid Balancer', category: 'Energy', icon: 'zap', components: { decomposition: { type: "Decomposition", text: "Divide grid into Solar Generation, Battery Storage, and Household Consumption units." }, patterns: { type: "Pattern Recognition", text: "Identify that energy demand peaks at 6 PM while solar generation drops at 5:30 PM." }, abstraction: { type: "Abstraction", text: "Treat the whole community as a single 'Virtual Power Plant'. Ignore individual household appliance details." }, algorithms: { type: "Algorithmic Design", text: "Discharge batteries to the grid IF Price > Threshold AND Storage > 20%." } } },
                    { id: 'S9', title: 'E-Commerce Recommendations', category: 'Retail', icon: 'shopping-bag', components: { decomposition: { type: "Decomposition", text: "Split into User History, Similar User Groups, and Product Meta-data matching." }, patterns: { type: "Pattern Recognition", text: "Identify that users who buy cameras also buy memory cards 85% of the time (Market Basket Analysis)." }, abstraction: { type: "Abstraction", text: "Model users as a list of 'Preference Tags'. Ignore their physical location if the item is digital." }, algorithms: { type: "Algorithmic Design", text: "Collaborative Filtering: Rank items by (Sum of ratings from similar users) / (Distance to user)." } } },
                    { id: 'S10', title: 'Search Engine Crawler', category: 'Information Retrieval', icon: 'search', components: { decomposition: { type: "Decomposition", text: "Divide task into URL Discovery, Page Indexing, and Page Rank Calculation." }, patterns: { type: "Pattern Recognition", text: "Detect 'Spam' patterns: excessive use of keywords in white-on-white text headers." }, abstraction: { type: "Abstraction", text: "Treat web pages as a simple 'Tag Cloud'. Ignore the visual CSS styling; focus on the HTML text content." }, algorithms: { type: "Algorithmic Design", text: "PageRank: For every link, distribute (Current Page Rank) / (Number of outbound links) to the target page." } } },
                    { id: 'S11', title: 'Drone Search Swarm', category: 'Robotics', icon: 'wind', components: { decomposition: { type: "Decomposition", text: "Split area into sub-grids. Assign one drone to each grid segment." }, patterns: { type: "Pattern Recognition", text: "Identify heat signatures matching human body temperature in the infrared visual feed." }, abstraction: { type: "Abstraction", text: "Represent trees as static obstacles (circles). Ignore species; only care about diameter for collision." }, algorithms: { type: "Algorithmic Design", text: "Spiral search sequence to ensure every square meter is scanned before battery hits 20%." } } },
                    { id: 'S12', title: 'Weather Simulator', category: 'Meteorology', icon: 'cloud', components: { decomposition: { type: "Decomposition", text: "Divide the atmosphere into a 3D grid of cells (voxels). Calculate pressure for each cell independently." }, patterns: { type: "Pattern Recognition", text: "Detect cyclonic rotation trends in the pressure data across multiple grid cells." }, abstraction: { type: "Abstraction", text: "Model air as a continuous fluid. Ignore individual molecule movement; focus on the pressure vector." }, algorithms: { type: "Algorithmic Design", text: "Numerical integration: Update cell state by calculating the gradient of pressure vs adjacent cells." } } },
                    { id: 'S13', title: 'Banking Ledger System', category: 'FinTech', icon: 'briefcase', components: { decomposition: { type: "Decomposition", text: "Break a transfer into: Deduct Sender, Add Receiver, and Log Transaction." }, patterns: { type: "Pattern Recognition", text: "Identify that a 'Transfer' is always a balanced equation (Debit = Credit)." }, abstraction: { type: "Abstraction", text: "Represent currency as an Integer (in cents) to avoid floating point errors. Ignore the visual currency symbols." }, algorithms: { type: "Algorithmic Design", text: "Two-Phase Commit: 1. Prepare all database nodes, 2. Commit all nodes simultaneously." } } },
                    { id: 'S14', title: 'Voice Translation AI', category: 'Linguistics', icon: 'mic', components: { decomposition: { type: "Decomposition", text: "Deconstruct into Speech-to-Text, Tokenization, Contextual Translation, and Text-to-Speech." }, patterns: { type: "Pattern Recognition", text: "Identify common grammatical structure patterns across the 'Romance' language family." }, abstraction: { type: "Abstraction", text: "Represent words as multi-dimensional vectors (Embeddings). Ignore the speaker's specific accent." }, algorithms: { type: "Algorithmic Design", text: "Transformer Attention: Weigh the importance of adjacent words to determine the correct context of a word." } } },
                    { id: 'S15', title: 'Water Filter AI', category: 'Sustainability', icon: 'droplets', components: { decomposition: { type: "Decomposition", text: "Break filter maintenance into: Flow Rate, TDS Levels, and Filter Lifespan monitoring." }, patterns: { type: "Pattern Recognition", text: "Identify that high turbidity always leads to a 10% drop in flow rate every 48 hours." }, abstraction: { type: "Abstraction", text: "Model contaminants as a single 'Purity %'. Ignore the specific chemical makeup; focus on the particulates." }, algorithms: { type: "Algorithmic Design", text: "IF Flow < Threshold AND Purity < 95% THEN trigger 'Automatic Backwash' cycle." } } }
                ];

                const RAW_BANK = [
                    { q: "Is programming required for Computational Thinking?", options: ["Yes, it is the only way", "No, it is a mental toolkit of techniques", "Only for advanced problems", "Only for database design"], correct: 1, exp: "CT (Syllabus B1.1.3) is a mental toolkit that exists independently of any programming language." },
                    { q: "Which domain uses CT to deconstruct packet headers?", options: ["Software Dev", "Network Security", "Data Analysis", "Machine Learning"], correct: 1, exp: "Network security uses Decomposition to analyze packet structure and Patterns to detect signatures." },
                    { q: "In Database Design, why do we use Pattern Recognition?", options: ["To find data trends", "To identify repeating data and normalize tables", "To write SQL faster", "To design the UI"], correct: 1, exp: "Patterns allow architects to group repeating data into separate tables to ensure efficiency." },
                    { q: "Computational thinking is defined as a toolkit of...", options: ["Hardware components", "Available techniques for problem-solving", "Programming languages", "Social media strategies"], correct: 1, exp: "It is a cognitive framework used to approach problems systematically." }
                ];

                const selectedScenario = ref(SCENARIOS[0]);
                const quizQuestions = ref([]);

                const score = computed(() => {
                    let s = 0;
                    quizQuestions.value.forEach((q, idx) => {
                        if (userAnswers.value[idx] === q.correct) s++;
                    });
                    return s;
                });

                const setActiveTab = (id) => {
                    activeTab.value = id;
                    if (id !== 'quiz') stopTimer();
                    nextTick(() => lucide.createIcons());
                };

                const selectScenario = (s) => {
                    selectedScenario.value = s;
                    builtSpec.value = {};
                    nextTick(() => lucide.createIcons());
                };

                const addComponent = (key) => {
                    builtSpec.value[key] = selectedScenario.value.components[key];
                    nextTick(() => lucide.createIcons());
                };

                const startQuiz = () => {
                    isQuizActive.value = true;
                    quizSubmitted.value = false;
                    userAnswers.value = {};
                    timeLeft.value = 1200;
                    quizQuestions.value = Array.from({ length: 40 }, (_, i) => {
                        const base = RAW_BANK[i % RAW_BANK.length];
                        return { ...base };
                    }).sort(() => 0.5 - Math.random());
                    startTimer();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    nextTick(() => lucide.createIcons());
                };

                const handleAnswerSelect = (qIdx, oIdx) => {
                    if (quizSubmitted.value) return;
                    userAnswers.value[qIdx] = oIdx;
                };

                const submitQuiz = () => {
                    quizSubmitted.value = true;
                    stopTimer();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    nextTick(() => lucide.createIcons());
                };

                const startTimer = () => {
                    if (timerInterval.value) clearInterval(timerInterval.value);
                    timerInterval.value = setInterval(() => {
                        if (timeLeft.value > 0) timeLeft.value--;
                        else submitQuiz();
                    }, 1000);
                };

                const stopTimer = () => clearInterval(timerInterval.value);

                const formatTime = (s) => {
                    const m = Math.floor(s / 60);
                    const sec = s % 60;
                    return `${m}:${sec < 10 ? '0' : ''}${sec}`;
                };

                const getOptionClass = (qIdx, oIdx) => {
                    let base = "text-left p-5 rounded-2xl border font-bold transition-all flex justify-between items-center text-xs md:text-sm text-left ";
                    if (!quizSubmitted.value) {
                        base += userAnswers.value[qIdx] === oIdx ? "bg-indigo-600 text-white border-indigo-600 shadow-xl scale-[1.02]" : "bg-white border-slate-200 hover:border-indigo-300 hover:bg-white text-slate-700";
                    } else {
                        if (oIdx === quizQuestions.value[qIdx].correct) base += "bg-emerald-500 text-white shadow-lg";
                        else if (userAnswers.value[qIdx] === oIdx) base += "bg-rose-500 text-white shadow-lg";
                        else base += "bg-slate-50 opacity-30 border-slate-100";
                    }
                    return base;
                };

                const filteredScenarios = computed(() => {
                    return SCENARIOS.filter(s => s.title.toLowerCase().includes(searchQuery.value.toLowerCase()) || s.category.toLowerCase().includes(searchQuery.value.toLowerCase()));
                });

                const answeredCount = computed(() => Object.keys(userAnswers.value).length);

                onMounted(() => lucide.createIcons());

                return {
                    activeTab, tabs, coreIdeas, roadmap, searchQuery, filteredScenarios,
                    selectedScenario, builtSpec, selectScenario, addComponent,
                    isQuizActive, quizQuestions, quizSubmitted, timeLeft, userAnswers,
                    answeredCount, score, startQuiz, handleAnswerSelect, submitQuiz,
                    formatTime, getOptionClass, setActiveTab, isMenuOpen,
                    pillars: [
                        { t: "Decomposition", icon: "trash-2", d: "The process of breaking down a complex problem into smaller, manageable parts. In Software Development, this is the foundation of modularityâ€”allowing teams to build specific features independently.", q: "Can this system be divided into logical sub-modules?", bad: "Writing the entire codebase as a single long file.", good: "Deconstructing a mobile app into UI, Auth, API, and Data-Store layers." },
                        { t: "Pattern Recognition", icon: "search-code", d: "Identifying similarities and trends in data. In Network Security, this is used to detect malicious 'signatures' in data packets by comparing them to known attack patterns.", q: "Does this technical challenge match a previously solved trend?", bad: "Treating every system error as a unique hardware failure.", good: "Identifying that a flood of packets from one IP matches a DDoS pattern." },
                        { t: "Abstraction", icon: "boxes", d: "Extracting essential information while filtering out irrelevant detail. In Database Design, this means focusing on the logical relationships (the Schema) rather than the physical storage hardware.", q: "What details can I ignore to simplify the logical contract?", bad: "Modelling the pixel color of a button during backend logic design.", good: "Representing a bank user as a unique Account_ID string rather than their physical appearance." },
                        { t: "Algorithmic Design", icon: "workflow", d: "Developing a structured set of sequential instructions designed to achieve a predictable outcome. In Machine Learning, this involves designing the step-by-step logic to adjust weights based on error gradients.", q: "What are the exact sequential steps to reach the solution?", bad: "Saying 'The computer will figure out the best price'.", good: "1. Sort prices, 2. Filter by rating, 3. Calculate Mean, 4. Output recommended price." }
                    ],
                    videoResources: [
                        { title: "B1.1.3: Applied Problem Solving", source: "CS Mastery", duration: "18:20", url: "https://www.youtube.com/results?search_query=IB+computer+science+B1.1.3+applied+CT" },
                        { title: "Toolkit of Techniques", source: "Tech University", duration: "12:45", url: "https://www.youtube.com/results?search_query=computational+thinking+problem+solving+toolkit" },
                        { title: "CT in Network Security", source: "Secure Lab", duration: "15:10", url: "https://www.youtube.com/results?search_query=computational+thinking+in+cyber+security" },
                        { title: "Machine Learning Decomposition", source: "Data Academy", duration: "09:30", url: "https://www.youtube.com/results?search_query=machine+learning+decomposition+CT" }
                    ],
                    articleResources: [
                        { title: "Computational Thinking as a Toolkit", type: "Academic Paper", length: "10 min read", url: "https://www.cs.cmu.edu/~15110-s13/Wing06.pdf" },
                        { title: "CT in Database Normalization", type: "Engineering Guide", length: "8 min read", url: "https://en.wikipedia.org/wiki/Database_normalization" },
                        { title: "Abstraction in Interface Design", type: "Standard", length: "15 min read", url: "https://en.wikipedia.org/wiki/Abstraction_layer" },
                        { title: "Pattern Matching for Security", type: "Industry Standard", length: "12 min read", url: "https://en.wikipedia.org/wiki/Pattern_matching" }
                    ]
                };
            }
        }).mount('#app');
    </script>
</body>

</html>